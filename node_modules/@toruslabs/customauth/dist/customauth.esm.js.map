{"version":3,"file":"customauth.esm.js","sources":["../src/utils/enums.ts","../src/utils/loglevel.ts","../src/utils/helpers.ts","../src/utils/PopupHandler.ts","../src/handlers/AbstractLoginHandler.ts","../src/handlers/DiscordHandler.ts","../src/handlers/FacebookHandler.ts","../src/handlers/GoogleHandler.ts","../src/handlers/JwtHandler.ts","../src/handlers/MockLoginHandler.ts","../src/handlers/PasswordlessHandler.ts","../src/handlers/RedditHandler.ts","../src/handlers/TwitchHandler.ts","../src/handlers/WebAuthnHandler.ts","../src/handlers/HandlerFactory.ts","../src/registerServiceWorker.ts","../src/login.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["TORUS_NETWORK","TESTNET","MAINNET","CYAN","LOGIN","GOOGLE","FACEBOOK","REDDIT","DISCORD","TWITCH","APPLE","GITHUB","LINKEDIN","TWITTER","WEIBO","LINE","EMAIL_PASSWORD","PASSWORDLESS","JWT","WEBAUTHN","AGGREGATE_VERIFIER","SINGLE_VERIFIER_ID","UX_MODE","POPUP","REDIRECT","REDIRECT_PARAMS_STORAGE_METHOD","LOCAL_STORAGE","SESSION_STORAGE","TORUS_METHOD","TRIGGER_LOGIN","TRIGGER_AGGREGATE_LOGIN","TRIGGER_AGGREGATE_HYBRID_LOGIN","CONTRACT_MAP","NETWORK_MAP","ETHEREUM_NETWORK","ROPSTEN","POLYGON","SIGNER_MAP","loglevel","getLogger","eventToPromise","emitter","Promise","resolve","reject","handler","ev","error","data","removeEventListener","Error","addEventListener","loginToConnectionMap","padUrlString","url","href","endsWith","randomId","Math","random","toString","slice","broadcastChannelOptions","webWorkerSupport","caseSensitiveField","field","isCaseSensitive","toLowerCase","getVerifierId","userInfo","typeOfLogin","verifierIdField","isVerifierIdCaseSensitive","name","sub","handleRedirectParameters","hash","queryParameters","hashParameters","split","reduce","result","item","part0","part1","log","info","instanceParameters","Object","keys","length","state","JSON","parse","atob","decodeURIComponent","error_description","storageAvailable","type","storage","window","x","setItem","removeItem","e","code","storageStatus","storeLoginDetails","params","storageMethod","scope","stringify","retrieveLoginDetails","loginDetails","getItem","clearLoginDetailsStorage","clearOrphanedLoginDetails","allStorageKeys","forEach","key","startsWith","getPopupFeatures","dualScreenLeft","screenLeft","undefined","screenX","dualScreenTop","screenTop","screenY","w","h","width","innerWidth","document","documentElement","clientWidth","screen","height","innerHeight","clientHeight","systemZoom","left","abs","top","features","isFirefox","navigator","userAgent","indexOf","constructURL","baseURL","query","URL","searchParams","append","PopupHandler","EventEmitter","constructor","target","windowTimer","iClosedWindow","_setupTimer","Number","setInterval","closed","clearInterval","emit","open","focus","close","redirect","locationReplaceOnRedirect","location","replace","AbstractLoginHandler","clientId","verifier","redirect_uri","uxMode","redirectToOpener","jwtParams","customState","encodeURIComponent","btoa","instanceId","nonce","handleLoginWindow","verifierWindow","finalURL","popupFeatures","bc","handleData","instanceParams","hashParams","access_token","accessToken","id_token","idToken","rest","postMessage","success","BroadcastChannel","postMessageEventHandler","postMessageEvent","channel","once","DiscordHandler","setFinalUrl","finalUrl","clonedParams","finalJwtParams","deepmerge","response_type","RESPONSE_TYPE","client_id","SCOPE","getUserInfo","get","headers","Authorization","id","avatar","email","username","discriminator","profileImage","verifierId","FacebookHandler","picture","GoogleHandler","prompt","PROMPT","JwtHandler","domain","pathname","connection","user_info_route","domainUrl","warn","decodedToken","jwtDecode","MockLoginHandler","login_hint","phone_number","send","authParams","post","then","response","catch","RedditHandler","icon_img","TwitchHandler","force_verify","profile_image_url","display_name","WEBAUTHN_LOOKUP_SERVER","WebAuthnHandler","registerOnly","register_only","parameters","ref","extraParamsPassed","extraParams","signature","clientDataJSON","authenticatorData","publicKey","challenge","rpOrigin","credId","debug","verifier_id","extraVerifierParams","createHandler","PasswordlessHandler","registerServiceWorker","baseUrl","swUrl","register","ready","registered","cached","updatefound","updated","offline","CustomAuth","network","proxyContractAddress","enableLogging","enableOneKey","redirectPathName","apiKey","redirectParamsStorageMethod","metadataUrl","isInitialized","baseUri","config","torus","Torus","metadataHost","allowHost","signerHost","setAPIKey","ethNetwork","nodeDetailManager","NodeDetailManager","proxyAddress","enableAll","disableAll","init","skipSw","skipInit","skipPrefetch","fetchSwResponse","fetch","cache","ok","handlePrefetchRedirectUri","triggerLogin","args","loginHandler","loginParams","method","torusNodeEndpoints","torusNodePub","getNodeDetails","torusPubKey","getPublicAddress","res","torusKey","typeOfUser","pubKey","pub_key_X","X","pub_key_Y","Y","publicAddress","address","privateKey","metadataNonce","getTorusKey","triggerAggregateLogin","aggregateVerifierType","verifierIdentifier","subVerifierDetailsArray","Array","isArray","userInfoPromises","loginParamsArray","subVerifierDetail","push","_userInfoArray","all","userInfoArray","map","aggregateVerifier","aggregateVerifierParams","verify_params","sub_verifier_ids","aggregateIdTokenSeeds","aggregateVerifierId","index","idtoken","sort","aggregateIdToken","keccak256","join","String","fromCharCode","triggerHybridAggregateLogin","singleLogin","aggregateLoginParams","torusKey1Promise","torusKey2Promise","torusKey1","torusKey2","aggregateLogins","verifierParams","additionalParams","torusIndexes","shares","retrieveShares","ethAddress","privKey","getAggregateTorusKey","subVerifierInfoArray","getPostboxKeyFrom1OutOf1","getRedirectResult","replaceUrl","clearLoginDetails","substring","queryParams","value","cleanUrl","origin","history","replaceState","methodArgs","err","message","redirectHtml","createElement","crossOrigin","rel","resolveFn","relList","supports","onload","onerror","head","appendChild"],"mappings":";;;;;;;;;;;;;MAEaA,aAAa,GAAG;AAC3BC,EAAAA,OAAO,EAAE,SADkB;AAE3BC,EAAAA,OAAO,EAAE,SAFkB;AAG3BC,EAAAA,IAAI,EAAE;AAHqB;MAMhBC,KAAK,GAAG;AACnBC,EAAAA,MAAM,EAAE,QADW;AAEnBC,EAAAA,QAAQ,EAAE,UAFS;AAGnBC,EAAAA,MAAM,EAAE,QAHW;AAInBC,EAAAA,OAAO,EAAE,SAJU;AAKnBC,EAAAA,MAAM,EAAE,QALW;AAMnBC,EAAAA,KAAK,EAAE,OANY;AAOnBC,EAAAA,MAAM,EAAE,QAPW;AAQnBC,EAAAA,QAAQ,EAAE,UARS;AASnBC,EAAAA,OAAO,EAAE,SATU;AAUnBC,EAAAA,KAAK,EAAE,OAVY;AAWnBC,EAAAA,IAAI,EAAE,MAXa;AAYnBC,EAAAA,cAAc,EAAE,gBAZG;AAanBC,EAAAA,YAAY,EAAE,cAbK;AAcnBC,EAAAA,GAAG,EAAE,KAdc;AAenBC,EAAAA,QAAQ,EAAE;AAfS;MAkBRC,kBAAkB,GAAG;AAChCC,EAAAA,kBAAkB,EAAE,oBADY;AAGhC;;AAHgC;MAMrBC,OAAO,GAAG;AACrBC,EAAAA,KAAK,EAAE,OADc;AAErBC,EAAAA,QAAQ,EAAE;AAFW;MAKVC,8BAA8B,GAAG;AAC5CC,EAAAA,aAAa,EAAE,cAD6B;AAE5CC,EAAAA,eAAe,EAAE;AAF2B;MAKjCC,YAAY,GAAG;AAC1BC,EAAAA,aAAa,EAAE,cADW;AAE1BC,EAAAA,uBAAuB,EAAE,uBAFC;AAG1BC,EAAAA,8BAA8B,EAAE;AAHN;MAafC,YAAY,GAAG;AAC1B,GAAChC,aAAa,CAACE,OAAf,GAAyB,4CADC;AAE1B,GAACF,aAAa,CAACC,OAAf,GAAyB,4CAFC;AAG1B,GAACD,aAAa,CAACG,IAAf,GAAsB;AAHI;MAMf8B,WAAW,GAAG;AACzB,GAACjC,aAAa,CAACE,OAAf,GAAyBgC,gBAAgB,CAAChC,OADjB;AAEzB,GAACF,aAAa,CAACC,OAAf,GAAyBiC,gBAAgB,CAACC,OAFjB;AAGzB,GAACnC,aAAa,CAACG,IAAf,GAAsB+B,gBAAgB,CAACE;AAHd;MAMdC,UAAU,GAAG;AACxB,GAACrC,aAAa,CAACE,OAAf,GAAyB,uBADD;AAExB,GAACF,aAAa,CAACC,OAAf,GAAyB,uBAFD;AAGxB,GAACD,aAAa,CAACG,IAAf,GAAsB;AAHE;;ACjE1B,UAAemC,KAAQ,CAACC,SAAT,CAAmB,YAAnB,CAAf;;SCYgBC,eAAkBC;AAChC,SAAO,IAAIC,OAAJ,CAAe,CAACC,OAAD,EAAUC,MAAV;AACpB,UAAMC,OAAO,GAAIC,EAAD;AACd,YAAM;AAAEC,QAAAA,KAAK,GAAG,EAAV;AAAcC,QAAAA;AAAd,UAAuBF,EAA7B;AACAL,MAAAA,OAAO,CAACQ,mBAAR,CAA4B,SAA5B,EAAuCJ,OAAvC;AACA,UAAIE,KAAJ,EAAW,OAAOH,MAAM,CAAC,IAAIM,KAAJ,CAAUH,KAAV,CAAD,CAAb;AACX,aAAOJ,OAAO,CAACK,IAAD,CAAd;AACD,KALD;;AAMAP,IAAAA,OAAO,CAACU,gBAAR,CAAyB,SAAzB,EAAoCN,OAApC;AACD,GARM,CAAP;AASD;;MAGYO,oBAAoB,GAAG;AAClC,GAAChD,KAAK,CAACM,KAAP,GAAe,OADmB;AAElC,GAACN,KAAK,CAACO,MAAP,GAAgB,QAFkB;AAGlC,GAACP,KAAK,CAACQ,QAAP,GAAkB,UAHgB;AAIlC,GAACR,KAAK,CAACS,OAAP,GAAiB,SAJiB;AAKlC,GAACT,KAAK,CAACU,KAAP,GAAe,OALmB;AAMlC,GAACV,KAAK,CAACW,IAAP,GAAc,MANoB;AAOlC,GAACX,KAAK,CAACY,cAAP,GAAwB,kCAPU;AAQlC,GAACZ,KAAK,CAACa,YAAP,GAAsB;AARY;MAWvBoC,YAAY,GAAIC,GAAD,IAAuBA,GAAG,CAACC,IAAJ,CAASC,QAAT,CAAkB,GAAlB,IAAyBF,GAAG,CAACC,IAA7B,aAAuCD,GAAG,CAACC,IAA3C;AAEnD;;;;;MAIaE,QAAQ,GAAG,MAAcC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,KAA3B,CAAiC,CAAjC;MAEzBC,uBAAuB,GAAG;AACrC;AACAC,EAAAA,gBAAgB,EAAE,KAFmB;;AAAA;;AAKvC,SAASC,kBAAT,CAA4BC,KAA5B,EAA2CC,eAA3C;AACE,SAAOA,eAAe,GAAGD,KAAH,GAAWA,KAAK,CAACE,WAAN,EAAjC;AACD;;MAEYC,aAAa,GAAG,UAC3BC,QAD2B,EAE3BC,WAF2B,EAG3BC,eAH2B;MAI3BC,gGAA4B;AAE5B,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAgBL,QAAtB;AACA,MAAIE,eAAJ,EAAqB,OAAOP,kBAAkB,CAACK,QAAQ,CAACE,eAAD,CAAT,EAA4BC,yBAA5B,CAAzB;;AACrB,UAAQF,WAAR;AACE,SAAKlE,KAAK,CAACa,YAAX;AACA,SAAKb,KAAK,CAACY,cAAX;AACE,aAAOgD,kBAAkB,CAACS,IAAD,EAAOD,yBAAP,CAAzB;;AACF,SAAKpE,KAAK,CAACU,KAAX;AACA,SAAKV,KAAK,CAACO,MAAX;AACA,SAAKP,KAAK,CAACS,OAAX;AACA,SAAKT,KAAK,CAACM,KAAX;AACA,SAAKN,KAAK,CAACQ,QAAX;AACA,SAAKR,KAAK,CAACW,IAAX;AACA,SAAKX,KAAK,CAACc,GAAX;AACE,aAAO8C,kBAAkB,CAACU,GAAD,EAAMF,yBAAN,CAAzB;;AACF;AACE,YAAM,IAAItB,KAAJ,CAAU,oBAAV,CAAN;AAbJ;AAeD;MAEYyB,wBAAwB,GAAG,CACtCC,IADsC,EAEtCC,eAFsC;AAItC,QAAMC,cAAc,GAAuBF,IAAI,CAACG,KAAL,CAAW,GAAX,EAAgBC,MAAhB,CAAuB,CAACC,MAAD,EAASC,IAAT;AAChE,UAAM,CAACC,KAAD,EAAQC,KAAR,IAAiBF,IAAI,CAACH,KAAL,CAAW,GAAX,CAAvB;AACAE,IAAAA,MAAM,CAACE,KAAD,CAAN,GAAgBC,KAAhB;AACA,WAAOH,MAAP;AACD,GAJ0C,EAIxC,EAJwC,CAA3C;AAKAI,EAAAA,GAAG,CAACC,IAAJ,CAASR,cAAT,EAAyBD,eAAzB;AACA,MAAIU,kBAAkB,GAAuB,EAA7C;AACA,MAAIxC,KAAK,GAAG,EAAZ;;AACA,MAAIyC,MAAM,CAACC,IAAP,CAAYX,cAAZ,EAA4BY,MAA5B,GAAqC,CAArC,IAA0CZ,cAAc,CAACa,KAA7D,EAAoE;AAClEJ,IAAAA,kBAAkB,GAAGK,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,kBAAkB,CAACA,kBAAkB,CAACjB,cAAc,CAACa,KAAhB,CAAnB,CAAnB,CAAf,KAAkF,EAAvG;AACA5C,IAAAA,KAAK,GAAG+B,cAAc,CAACkB,iBAAf,IAAoClB,cAAc,CAAC/B,KAAnD,IAA4DA,KAApE;AACD,GAHD,MAGO,IAAIyC,MAAM,CAACC,IAAP,CAAYZ,eAAZ,EAA6Ba,MAA7B,GAAsC,CAAtC,IAA2Cb,eAAe,CAACc,KAA/D,EAAsE;AAC3EJ,IAAAA,kBAAkB,GAAGK,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,kBAAkB,CAACA,kBAAkB,CAAClB,eAAe,CAACc,KAAjB,CAAnB,CAAnB,CAAf,KAAmF,EAAxG;AACA,QAAId,eAAe,CAAC9B,KAApB,EAA2BA,KAAK,GAAG8B,eAAe,CAAC9B,KAAxB;AAC5B;;AACD,SAAO;AAAEA,IAAAA,KAAF;AAASwC,IAAAA,kBAAT;AAA6BT,IAAAA;AAA7B,GAAP;AACD;SAEemB,iBAAiBC;AAC/B,MAAIC,OAAJ;;AACA,MAAI;AACFA,IAAAA,OAAO,GAAGC,MAAM,CAACF,IAAD,CAAhB;AACA,UAAMG,CAAC,GAAG,kBAAV;AACAF,IAAAA,OAAO,CAACG,OAAR,CAAgBD,CAAhB,EAAmBA,CAAnB;AACAF,IAAAA,OAAO,CAACI,UAAR,CAAmBF,CAAnB;AACA,WAAO,IAAP;AACD,GAND,CAME,OAAOG,CAAP,EAAU;AACV,WACEA,CAAC;AAEAA,IAAAA,CAAC,CAACC,IAAF,KAAW,EAAX;AAECD,IAAAA,CAAC,CAACC,IAAF,KAAW,IAFZ;AAIC;AACAD,IAAAA,CAAC,CAAC/B,IAAF,KAAW,oBALZ;AAOC+B,IAAAA,CAAC,CAAC/B,IAAF,KAAW,4BATZ,CAAD;AAWA0B,IAAAA,OAXA,IAYAA,OAAO,CAACT,MAAR,KAAmB,CAbrB;AAeD;AACF;AAED,MAAMgB,aAAa,GAAG;AACpB,GAACjF,8BAA8B,CAACC,aAAhC,GAAgDuE,gBAAgB,CAACxE,8BAA8B,CAACC,aAAhC,CAD5C;AAEpB,GAACD,8BAA8B,CAACE,eAAhC,GAAkDsE,gBAAgB,CAACxE,8BAA8B,CAACE,eAAhC;AAF9C,CAAtB;SAKgBgF,kBAAkBC,QAAsBC,eAAoDC;AAC1G,MAAIJ,aAAa,CAACG,aAAD,CAAjB,EAAkC;AAChCT,IAAAA,MAAM,CAACS,aAAD,CAAN,CAAsBP,OAAtB,uBAA6CQ,KAA7C,GAAsDlB,IAAI,CAACmB,SAAL,CAAeH,MAAf,CAAtD;AACD;AACF;SAEeI,qBAAqBH,eAAoDC;AACvF,MAAIJ,aAAa,CAACG,aAAD,CAAjB,EAAkC;AAChC,UAAMI,YAAY,GAAGb,MAAM,CAACS,aAAD,CAAN,CAAsBK,OAAtB,uBAA6CJ,KAA7C,EAArB;AACA,WAAOlB,IAAI,CAACC,KAAL,CAAWoB,YAAY,IAAI,IAA3B,CAAP;AACD;;AACD,QAAM,IAAI/D,KAAJ,CAAU,yCAAV,CAAN;AACD;SAEeiE,yBAAyBN,eAAoDC;AAC3F,MAAIJ,aAAa,CAACG,aAAD,CAAjB,EAAkC;AAChCT,IAAAA,MAAM,CAACS,aAAD,CAAN,CAAsBN,UAAtB,uBAAgDO,KAAhD;AACD;AACF;SAEeM,0BAA0BP;AACxC,MAAIH,aAAa,CAACG,aAAD,CAAjB,EAAkC;AAChC,UAAMQ,cAAc,GAAG7B,MAAM,CAACC,IAAP,CAAYW,MAAM,CAACS,aAAD,CAAlB,CAAvB;AACAQ,IAAAA,cAAc,CAACC,OAAf,CAAwBC,GAAD;AACrB,UAAIA,GAAG,CAACC,UAAJ,CAAe,cAAf,CAAJ,EAAoC;AAClCpB,QAAAA,MAAM,CAACS,aAAD,CAAN,CAAsBN,UAAtB,CAAiCgB,GAAjC;AACD;AACF,KAJD;AAKD;AACF;SAEeE;AACd;AACA,QAAMC,cAAc,GAAGtB,MAAM,CAACuB,UAAP,KAAsBC,SAAtB,GAAkCxB,MAAM,CAACuB,UAAzC,GAAsDvB,MAAM,CAACyB,OAApF;AACA,QAAMC,aAAa,GAAG1B,MAAM,CAAC2B,SAAP,KAAqBH,SAArB,GAAiCxB,MAAM,CAAC2B,SAAxC,GAAoD3B,MAAM,CAAC4B,OAAjF;AAEA,QAAMC,CAAC,GAAG,IAAV;AACA,QAAMC,CAAC,GAAG,GAAV;AAEA,QAAMC,KAAK,GAAG/B,MAAM,CAACgC,UAAP,GACVhC,MAAM,CAACgC,UADG,GAEVC,QAAQ,CAACC,eAAT,CAAyBC,WAAzB,GACAF,QAAQ,CAACC,eAAT,CAAyBC,WADzB,GAEAnC,MAAM,CAACoC,MAAP,CAAcL,KAJlB;AAMA,QAAMM,MAAM,GAAGrC,MAAM,CAACsC,WAAP,GACXtC,MAAM,CAACsC,WADI,GAEXL,QAAQ,CAACC,eAAT,CAAyBK,YAAzB,GACAN,QAAQ,CAACC,eAAT,CAAyBK,YADzB,GAEAvC,MAAM,CAACoC,MAAP,CAAcC,MAJlB;AAMA,QAAMG,UAAU,GAAG,CAAnB;;AAEA,QAAMC,IAAI,GAAGnF,IAAI,CAACoF,GAAL,CAAS,CAACX,KAAK,GAAGF,CAAT,IAAc,CAAd,GAAkBW,UAAlB,GAA+BlB,cAAxC,CAAb;AACA,QAAMqB,GAAG,GAAGrF,IAAI,CAACoF,GAAL,CAAS,CAACL,MAAM,GAAGP,CAAV,IAAe,CAAf,GAAmBU,UAAnB,GAAgCd,aAAzC,CAAZ;AACA,QAAMkB,QAAQ,uEAAgEd,CAAC,GAAGU,UAApE,oBAAwFX,CAAC,GAAGW,UAA5F,kBAA8GG,GAA9G,mBAA0HF,IAA1H,CAAd;AACA,SAAOG,QAAP;AACD;MAEYC,SAAS,GAAG;AAAA;;AAAA,SAAe,YAAA7C,MAAM,UAAN,+DAAQ8C,SAAR,wEAAmBC,SAAnB,CAA6BhF,WAA7B,GAA2CiF,OAA3C,CAAmD,SAAnD,KAAgE,CAAC,CAAjE,IAAsE,KAArF;AAAA;SAETC,aAAazC;AAC3B,QAAM;AAAE0C,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkB3E,IAAAA;AAAlB,MAA2BgC,MAAjC;AAEA,QAAMtD,GAAG,GAAG,IAAIkG,GAAJ,CAAQF,OAAR,CAAZ;;AACA,MAAIC,KAAJ,EAAW;AACT/D,IAAAA,MAAM,CAACC,IAAP,CAAY8D,KAAZ,EAAmBjC,OAAnB,CAA4BC,GAAD;AACzBjE,MAAAA,GAAG,CAACmG,YAAJ,CAAiBC,MAAjB,CAAwBnC,GAAxB,EAA6BgC,KAAK,CAAChC,GAAD,CAAlC;AACD,KAFD;AAGD;;AACD,MAAI3C,IAAJ,EAAU;AACR,UAAMsD,CAAC,GAAG,IAAIsB,GAAJ,CAAQH,YAAY,CAAC;AAAEC,MAAAA,OAAF;AAAWC,MAAAA,KAAK,EAAE3E;AAAlB,KAAD,CAApB,EAAgD6E,YAAhD,CAA6D7F,QAA7D,EAAV;AACAN,IAAAA,GAAG,CAACsB,IAAJ,GAAWsD,CAAX;AACD;;AACD,SAAO5E,GAAG,CAACM,QAAJ,EAAP;AACD;;AC7MD,MAAM+F,YAAN,SAA2BC,YAA3B;AAaEC,EAAAA;QAAY;AAAEvG,MAAAA,GAAF;AAAOwG,MAAAA,MAAP;AAAed,MAAAA;AAAf;AACV;;;;;;;;;;;;;;AACA,SAAK1F,GAAL,GAAWA,GAAX;AACA,SAAKwG,MAAL,GAAcA,MAAM,IAAI,QAAxB;AACA,SAAKd,QAAL,GAAgBA,QAAQ,IAAIvB,gBAAgB,EAA5C;AACA,SAAKrB,MAAL,GAAcwB,SAAd;AACA,SAAKmC,WAAL,GAAmBnC,SAAnB;AACA,SAAKoC,aAAL,GAAqB,KAArB;;AACA,SAAKC,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,SAAKF,WAAL,GAAmBG,MAAM,CACvBC,WAAW,CAAC;AACV,UAAI,KAAK/D,MAAL,IAAe,KAAKA,MAAL,CAAYgE,MAA/B,EAAuC;AACrCC,QAAAA,aAAa,CAAC,KAAKN,WAAN,CAAb;;AACA,YAAI,CAAC,KAAKC,aAAV,EAAyB;AACvB,eAAKM,IAAL,CAAU,OAAV;AACD;;AACD,aAAKN,aAAL,GAAqB,KAArB;AACA,aAAK5D,MAAL,GAAcwB,SAAd;AACD;;AACD,UAAI,KAAKxB,MAAL,KAAgBwB,SAApB,EAA+ByC,aAAa,CAAC,KAAKN,WAAN,CAAb;AAChC,KAVU,EAUR,GAVQ,CADY,CAAzB;AAaD;;AAEDQ,EAAAA,IAAI;;;AACF,SAAKnE,MAAL,GAAcA,MAAM,CAACmE,IAAP,CAAY,KAAKjH,GAAL,CAASC,IAArB,EAA2B,KAAKuG,MAAhC,EAAwC,KAAKd,QAA7C,CAAd;AACA,wBAAI,KAAK5C,MAAT,yCAAI,aAAaoE,KAAjB,EAAwB,KAAKpE,MAAL,CAAYoE,KAAZ;AACxB,WAAO9H,OAAO,CAACC,OAAR,EAAP;AACD;;AAED8H,EAAAA,KAAK;AACH,SAAKT,aAAL,GAAqB,IAArB;AACA,QAAI,KAAK5D,MAAT,EAAiB,KAAKA,MAAL,CAAYqE,KAAZ;AAClB;;AAEDC,EAAAA,QAAQ,CAACC,yBAAD;AACN,QAAIA,yBAAJ,EAA+B;AAC7BvE,MAAAA,MAAM,CAACwE,QAAP,CAAgBC,OAAhB,CAAwB,KAAKvH,GAAL,CAASC,IAAjC;AACD,KAFD,MAEO;AACL6C,MAAAA,MAAM,CAACwE,QAAP,CAAgBrH,IAAhB,GAAuB,KAAKD,GAAL,CAASC,IAAhC;AACD;AACF;;;;;;;;;;ACrDH,MAAeuH,oBAAf;AAKE;AACA;AACAjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC;;;;;;;;;;;;;;;;;mCAdY5H,QAAQ;;;;AAOpB,iBAAA,GAAAsH,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AACP;;AAEK,MAAL1F,KAAK;AACP,WAAO2F,kBAAkB,CACvBlF,MAAM,CAACmF,IAAP,CACE3F,IAAI,CAACmB,SAAL,qCACM,KAAKsE,WAAL,IAAoB,EAD1B;AAEEG,MAAAA,UAAU,EAAE,KAAKC,KAFnB;AAGET,MAAAA,QAAQ,EAAE,KAAKA,QAHjB;AAIE1G,MAAAA,WAAW,EAAE,KAAKA,WAJpB;AAKE6G,MAAAA,gBAAgB,EAAE,KAAKA,gBAAL,IAAyB;AAL7C,OADF,CADuB,CAAzB;AAWD;;AAEDO,EAAAA,iBAAiB,CAAC9E,MAAD;AACf,UAAM+E,cAAc,GAAG,IAAIhC,YAAJ,CAAiB;AAAErG,MAAAA,GAAG,EAAE,KAAKsI,QAAZ;AAAsB5C,MAAAA,QAAQ,EAAEpC,MAAM,CAACiF;AAAvC,KAAjB,CAAvB;;AACA,QAAI,KAAKX,MAAL,KAAgB5J,OAAO,CAACE,QAA5B,EAAsC;AACpCmK,MAAAA,cAAc,CAACjB,QAAf,CAAwB9D,MAAM,CAAC+D,yBAA/B;AACD,KAFD,MAEO;AACL,aAAO,IAAIjI,OAAJ,CAAiC,CAACC,OAAD,EAAUC,MAAV;AACtC,YAAIkJ,EAAJ;;AACA,cAAMC,UAAU,GAAG,MAAOjJ,EAAP;AACjB,cAAI;AACF,kBAAM;AAAEC,cAAAA,KAAF;AAASC,cAAAA;AAAT,gBAAkBF,EAAxB;;AACA,yBAGIE,IAAI,IAAI,EAHZ;AAAA,kBAAM;AACJgJ,cAAAA,cADI;AAEJC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,YAAY,EAAEC,WAAhB;AAA6BC,gBAAAA,QAAQ,EAAEC;AAAvC;AAFR,aAAN;AAAA,kBAEiEC,IAFjE,iCAEEL,UAFF;;AAIA,gBAAIlJ,KAAJ,EAAW;AACTsC,cAAAA,GAAG,CAACtC,KAAJ,CAAUD,EAAV;AACAF,cAAAA,MAAM,CAAC,IAAIM,KAAJ,kBAAoBH,KAApB,qBAAoC6C,IAAI,CAACmB,SAAL,CAAejE,EAAE,CAACE,IAAH,IAAW,EAA1B,CAApC,EAAD,CAAN;AACA;AACD;;AACD,gBAAIF,EAAE,CAACE,IAAH,IAAWgJ,cAAc,CAAChB,QAAf,KAA4B,KAAKA,QAAhD,EAA0D;AACxD3F,cAAAA,GAAG,CAACC,IAAJ,CAASxC,EAAE,CAACE,IAAZ;AACA,kBAAI,CAAC,KAAKmI,gBAAN,IAA0BW,EAA9B,EAAkC,MAAMA,EAAE,CAACS,WAAH,CAAe;AAAEC,gBAAAA,OAAO,EAAE;AAAX,eAAf,CAAN;AAClC7J,cAAAA,OAAO;AACLwJ,gBAAAA,WADK;AAELE,gBAAAA,OAAO,EAAEA,OAAO,IAAI;AAFf,iBAGFC,IAHE;AAIL;AACA3G,gBAAAA,KAAK,EAAEqG;AALF,iBAAP;AAOD;AACF,WAtBD,CAsBE,OAAOjJ,KAAP,EAAc;AACdsC,YAAAA,GAAG,CAACtC,KAAJ,CAAUA,KAAV;AACAH,YAAAA,MAAM,CAACG,KAAD,CAAN;AACD;AACF,SA3BD;;AA6BA,YAAI,CAAC,KAAKoI,gBAAV,EAA4B;AAC1BW,UAAAA,EAAE,GAAG,IAAIW,gBAAJ,4BAAyC,KAAKhB,KAA9C,GAAuD3H,uBAAvD,CAAL;AACAgI,UAAAA,EAAE,CAAC3I,gBAAH,CAAoB,SAApB,EAA+B,MAAOL,EAAP;AAC7B,kBAAMiJ,UAAU,CAACjJ,EAAD,CAAhB;AACAgJ,YAAAA,EAAE,CAACrB,KAAH;AACAkB,YAAAA,cAAc,CAAClB,KAAf;AACD,WAJD;AAKD,SAPD,MAOO;AACL,gBAAMiC,uBAAuB,GAAG,MAAOC,gBAAP;AAC9B,gBAAI,CAACA,gBAAgB,CAAC3J,IAAtB,EAA4B;AAC5B,kBAAMF,EAAE,GAAG6J,gBAAgB,CAAC3J,IAA5B;AACA,gBAAIF,EAAE,CAAC8J,OAAH,gCAAmC,KAAKnB,KAAxC,CAAJ,EAAqD;AACrDrF,YAAAA,MAAM,CAACnD,mBAAP,CAA2B,SAA3B,EAAsCyJ,uBAAtC;AACAX,YAAAA,UAAU,CAACjJ,EAAD,CAAV;AACA6I,YAAAA,cAAc,CAAClB,KAAf;AACD,WAPD;;AAQArE,UAAAA,MAAM,CAACjD,gBAAP,CAAwB,SAAxB,EAAmCuJ,uBAAnC;AACD;;AACDf,QAAAA,cAAc,CAACpB,IAAf;AACAoB,QAAAA,cAAc,CAACkB,IAAf,CAAoB,OAApB,EAA6B;AAC3B,cAAIf,EAAJ,EAAQA,EAAE,CAACrB,KAAH;AACR7H,UAAAA,MAAM,CAAC,IAAIM,KAAJ,CAAU,mBAAV,CAAD,CAAN;AACD,SAHD;AAID,OAtDM,CAAP;AAuDD;;AACD,WAAO,IAAP;AACD;;;;MC/FkB4J,uBAAuBhC;AAK1CjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC;AAET,UAAMN,QAAN,EAAgBC,QAAhB,EAA0BC,YAA1B,EAAwC3G,WAAxC,EAAqD4G,MAArD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,WAA1F;;;;;;;;;;;;;;;;;;2CAduC;;mCAER;;AAGtB,iBAAA,GAAAN,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AAGT,SAAK0B,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,UAAMC,QAAQ,GAAG,IAAIxD,GAAJ,CAAQ,0CAAR,CAAjB;AACA,UAAMyD,YAAY,GAAGrH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACmB,SAAL,CAAe,KAAKqE,SAAL,IAAkB,EAAjC,CAAX,CAArB;AACA,UAAM8B,cAAc,GAAGC,SAAS,CAC9B;AACExH,MAAAA,KAAK,EAAE,KAAKA,KADd;AAEEyH,MAAAA,aAAa,EAAE,KAAKC,aAFtB;AAGEC,MAAAA,SAAS,EAAE,KAAKvC,QAHlB;AAIEE,MAAAA,YAAY,EAAE,KAAKA,YAJrB;AAKEnE,MAAAA,KAAK,EAAE,KAAKyG;AALd,KAD8B,EAQ9BN,YAR8B,CAAhC;AAUAzH,IAAAA,MAAM,CAACC,IAAP,CAAYyH,cAAZ,EAA4B5F,OAA5B,CAAqCC,GAAD;AAClC,UAAI2F,cAAc,CAAC3F,GAAD,CAAlB,EAAyByF,QAAQ,CAACvD,YAAT,CAAsBC,MAAtB,CAA6BnC,GAA7B,EAAkC2F,cAAc,CAAC3F,GAAD,CAAhD;AAC1B,KAFD;AAGA,SAAKqE,QAAL,GAAgBoB,QAAhB;AACD;;AAEgB,QAAXQ,WAAW,CAAC5G,MAAD;AACf,UAAM;AAAEuF,MAAAA;AAAF,QAAkBvF,MAAxB;AACA,UAAMvC,QAAQ,GAAG,MAAMoJ,GAAG,CACxB,mCADwB,EAExB;AACEC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,mBAAYxB,WAAZ;AADN;AADX,KAFwB,CAA1B;AAQA,UAAM;AAAEyB,MAAAA,EAAF;AAAMC,MAAAA,MAAN;AAAcC,MAAAA,KAAK,GAAG,EAAtB;AAA0BC,MAAAA,QAAQ,EAAEtJ,IAAI,GAAG,EAA3C;AAA+CuJ,MAAAA,aAAa,GAAG;AAA/D,QAAsE3J,QAA5E;AACA,UAAM4J,YAAY,GAChBJ,MAAM,KAAK,IAAX,mDAC6C3D,MAAM,CAAC8D,aAAD,CAAN,GAAwB,CADrE,sDAEuCJ,EAFvC,cAE6CC,MAF7C,mBADF;AAIA,WAAO;AACLI,MAAAA,YADK;AAELxJ,MAAAA,IAAI,YAAKA,IAAL,cAAauJ,aAAb,CAFC;AAGLF,MAAAA,KAHK;AAILI,MAAAA,UAAU,EAAEN,EAJP;AAKL5C,MAAAA,QAAQ,EAAE,KAAKA,QALV;AAML1G,MAAAA,WAAW,EAAE,KAAKA;AANb,KAAP;AAQD;;;;MC7DkB6J,wBAAwBrD;AAK3CjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC;AAET,UAAMN,QAAN,EAAgBC,QAAhB,EAA0BC,YAA1B,EAAwC3G,WAAxC,EAAqD4G,MAArD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,WAA1F;;;;;;;;;;;;;;;;;;2CAduC;;mCAER;;AAGtB,iBAAA,GAAAN,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AAGT,SAAK0B,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,UAAMC,QAAQ,GAAG,IAAIxD,GAAJ,CAAQ,4CAAR,CAAjB;AACA,UAAMyD,YAAY,GAAGrH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACmB,SAAL,CAAe,KAAKqE,SAAL,IAAkB,EAAjC,CAAX,CAArB;AACA,UAAM8B,cAAc,GAAGC,SAAS,CAC9B;AACExH,MAAAA,KAAK,EAAE,KAAKA,KADd;AAEEyH,MAAAA,aAAa,EAAE,KAAKC,aAFtB;AAGEC,MAAAA,SAAS,EAAE,KAAKvC,QAHlB;AAIEE,MAAAA,YAAY,EAAE,KAAKA,YAJrB;AAKEnE,MAAAA,KAAK,EAAE,KAAKyG;AALd,KAD8B,EAQ9BN,YAR8B,CAAhC;AAUAzH,IAAAA,MAAM,CAACC,IAAP,CAAYyH,cAAZ,EAA4B5F,OAA5B,CAAqCC,GAAD;AAClC,UAAI2F,cAAc,CAAC3F,GAAD,CAAlB,EAAyByF,QAAQ,CAACvD,YAAT,CAAsBC,MAAtB,CAA6BnC,GAA7B,EAAkC2F,cAAc,CAAC3F,GAAD,CAAhD;AAC1B,KAFD;AAGA,SAAKqE,QAAL,GAAgBoB,QAAhB;AACD;;AAEgB,QAAXQ,WAAW,CAAC5G,MAAD;AACf,UAAM;AAAEuF,MAAAA;AAAF,QAAkBvF,MAAxB;AACA,UAAMvC,QAAQ,GAAG,MAAMoJ,GAAG,CACxB,qEADwB,EAExB;AACEC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,mBAAYxB,WAAZ;AADN;AADX,KAFwB,CAA1B;AAQA,UAAM;AAAE1H,MAAAA,IAAI,GAAG,EAAT;AAAamJ,MAAAA,EAAb;AAAiBQ,MAAAA,OAAjB;AAA0BN,MAAAA,KAAK,GAAG;AAAlC,QAAyCzJ,QAA/C;AACA,WAAO;AACLyJ,MAAAA,KADK;AAELrJ,MAAAA,IAFK;AAGLwJ,MAAAA,YAAY,EAAEG,OAAO,CAACpL,IAAR,CAAaM,GAAb,IAAoB,EAH7B;AAIL0H,MAAAA,QAAQ,EAAE,KAAKA,QAJV;AAKLkD,MAAAA,UAAU,EAAEN,EALP;AAMLtJ,MAAAA,WAAW,EAAE,KAAKA;AANb,KAAP;AAQD;;;;MCzDkB+J,sBAAsBvD;AAOzCjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC;AAET,UAAMN,QAAN,EAAgBC,QAAhB,EAA0BC,YAA1B,EAAwC3G,WAAxC,EAAqD4G,MAArD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,WAA1F;;;;;;;;;;;;;;;;;;2CAhBuC;;mCAER;;oCAEC;;AAGvB,iBAAA,GAAAN,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AAGT,SAAK0B,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,UAAMC,QAAQ,GAAG,IAAIxD,GAAJ,CAAQ,8CAAR,CAAjB;AACA,UAAMyD,YAAY,GAAGrH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACmB,SAAL,CAAe,KAAKqE,SAAL,IAAkB,EAAjC,CAAX,CAArB;AACA,UAAM8B,cAAc,GAAGC,SAAS,CAC9B;AACExH,MAAAA,KAAK,EAAE,KAAKA,KADd;AAEEyH,MAAAA,aAAa,EAAE,KAAKC,aAFtB;AAGEC,MAAAA,SAAS,EAAE,KAAKvC,QAHlB;AAIEuD,MAAAA,MAAM,EAAE,KAAKC,MAJf;AAKEtD,MAAAA,YAAY,EAAE,KAAKA,YALrB;AAMEnE,MAAAA,KAAK,EAAE,KAAKyG,KANd;AAOE9B,MAAAA,KAAK,EAAE,KAAKA;AAPd,KAD8B,EAU9BwB,YAV8B,CAAhC;AAYAzH,IAAAA,MAAM,CAACC,IAAP,CAAYyH,cAAZ,EAA4B5F,OAA5B,CAAqCC,GAAD;AAClC,UAAI2F,cAAc,CAAC3F,GAAD,CAAlB,EAAyByF,QAAQ,CAACvD,YAAT,CAAsBC,MAAtB,CAA6BnC,GAA7B,EAAkC2F,cAAc,CAAC3F,GAAD,CAAhD;AAC1B,KAFD;AAGA,SAAKqE,QAAL,GAAgBoB,QAAhB;AACD;;AAEgB,QAAXQ,WAAW,CAAC5G,MAAD;AACf,UAAM;AAAEuF,MAAAA;AAAF,QAAkBvF,MAAxB;AACA,UAAMvC,QAAQ,GAAG,MAAMoJ,GAAG,CAAmD,2CAAnD,EAAgG;AACxHC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,mBAAYxB,WAAZ;AADN;AAD+G,KAAhG,CAA1B;AAKA,UAAM;AAAEiC,MAAAA,OAAO,EAAEH,YAAY,GAAG,EAA1B;AAA8BH,MAAAA,KAAK,GAAG,EAAtC;AAA0CrJ,MAAAA,IAAI,GAAG;AAAjD,QAAwDJ,QAA9D;AACA,WAAO;AACLyJ,MAAAA,KADK;AAELrJ,MAAAA,IAFK;AAGLwJ,MAAAA,YAHK;AAILjD,MAAAA,QAAQ,EAAE,KAAKA,QAJV;AAKLkD,MAAAA,UAAU,EAAEJ,KAAK,CAAC3J,WAAN,EALP;AAMLG,MAAAA,WAAW,EAAE,KAAKA;AANb,KAAP;AAQD;;;;MCvDkBkK,qBAAmB1D;AAOtCjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC;AAET,UAAMN,QAAN,EAAgBC,QAAhB,EAA0BC,YAA1B,EAAwC3G,WAAxC,EAAqD4G,MAArD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,WAA1F;;;;;;;;;;;;;;;;;;mCAhB+B;;2CAEQ;;oCAEP;;AAGvB,iBAAA,GAAAN,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AAGT,SAAK0B,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,UAAM;AAAE0B,MAAAA;AAAF,QAAa,KAAKrD,SAAxB;AACA,UAAM4B,QAAQ,GAAG,IAAIxD,GAAJ,CAAQiF,MAAR,CAAjB;AACAzB,IAAAA,QAAQ,CAAC0B,QAAT,IAAqB1B,QAAQ,CAAC0B,QAAT,CAAkBlL,QAAlB,CAA2B,GAA3B,IAAkC,WAAlC,GAAgD,YAArE;AACA,UAAMyJ,YAAY,GAAGrH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACmB,SAAL,CAAe,KAAKqE,SAApB,CAAX,CAArB;AACA,WAAO6B,YAAY,CAACwB,MAApB;AACA,UAAMvB,cAAc,GAAGC,SAAS,CAC9B;AACExH,MAAAA,KAAK,EAAE,KAAKA,KADd;AAEEyH,MAAAA,aAAa,EAAE,KAAKC,aAFtB;AAGEC,MAAAA,SAAS,EAAE,KAAKvC,QAHlB;AAIEuD,MAAAA,MAAM,EAAE,KAAKC,MAJf;AAKEtD,MAAAA,YAAY,EAAE,KAAKA,YALrB;AAMEnE,MAAAA,KAAK,EAAE,KAAKyG,KANd;AAOEoB,MAAAA,UAAU,EAAEvL,oBAAoB,CAAC,KAAKkB,WAAN,CAPlC;AAQEmH,MAAAA,KAAK,EAAE,KAAKA;AARd,KAD8B,EAW9BwB,YAX8B,CAAhC;AAaAzH,IAAAA,MAAM,CAACC,IAAP,CAAYyH,cAAZ,EAA4B5F,OAA5B,CAAqCC,GAAD;AAClC,UAAI2F,cAAc,CAAC3F,GAAD,CAAlB,EAAyByF,QAAQ,CAACvD,YAAT,CAAsBC,MAAtB,CAA6BnC,GAA7B,EAAkC2F,cAAc,CAAC3F,GAAD,CAAhD;AAC1B,KAFD;AAGA,SAAKqE,QAAL,GAAgBoB,QAAhB;AACD;;AAEgB,QAAXQ,WAAW,CAAC5G,MAAD;AACf,UAAM;AAAEyF,MAAAA,OAAF;AAAWF,MAAAA;AAAX,QAA2BvF,MAAjC;AACA,UAAM;AAAE6H,MAAAA,MAAF;AAAUlK,MAAAA,eAAV;AAA2BC,MAAAA,yBAA3B;AAAsDoK,MAAAA,eAAe,GAAG;AAAxE,QAAuF,KAAKxD,SAAlG;;AACA,QAAIe,WAAJ,EAAiB;AACf,UAAI;AACF,cAAM0C,SAAS,GAAG,IAAIrF,GAAJ,CAAQiF,MAAR,CAAlB;AACA,cAAMpK,QAAQ,GAAG,MAAMoJ,GAAG,WAAmBpK,YAAY,CAACwL,SAAD,CAA/B,SAA6CD,eAA7C,GAAgE;AACxFlB,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,mBAAYxB,WAAZ;AADN;AAD+E,SAAhE,CAA1B;AAKA,cAAM;AAAEiC,UAAAA,OAAF;AAAW3J,UAAAA,IAAX;AAAiBqJ,UAAAA;AAAjB,YAA2BzJ,QAAjC;AACA,eAAO;AACLyJ,UAAAA,KADK;AAELrJ,UAAAA,IAFK;AAGLwJ,UAAAA,YAAY,EAAEG,OAHT;AAILF,UAAAA,UAAU,EAAE9J,aAAa,CAACC,QAAD,EAAW,KAAKC,WAAhB,EAA6BC,eAA7B,EAA8CC,yBAA9C,CAJpB;AAKLwG,UAAAA,QAAQ,EAAE,KAAKA,QALV;AAML1G,UAAAA,WAAW,EAAE,KAAKA;AANb,SAAP;AAQD,OAhBD,CAgBE,OAAOvB,KAAP,EAAc;AACd;AACAsC,QAAAA,KAAG,CAACyJ,IAAJ,CAAS/L,KAAT,EAAgB,sCAAhB;AACD;AACF;;AACD,QAAIsJ,OAAJ,EAAa;AACX,YAAM0C,YAAY,GAAGC,SAAS,CAAgB3C,OAAhB,CAA9B;AACA,YAAM;AAAE5H,QAAAA,IAAF;AAAQqJ,QAAAA,KAAR;AAAeM,QAAAA;AAAf,UAA2BW,YAAjC;AACA,aAAO;AACLd,QAAAA,YAAY,EAAEG,OADT;AAEL3J,QAAAA,IAFK;AAGLqJ,QAAAA,KAHK;AAILI,QAAAA,UAAU,EAAE9J,aAAa,CAAC2K,YAAD,EAAe,KAAKzK,WAApB,EAAiCC,eAAjC,EAAkDC,yBAAlD,CAJpB;AAKLwG,QAAAA,QAAQ,EAAE,KAAKA,QALV;AAML1G,QAAAA,WAAW,EAAE,KAAKA;AANb,OAAP;AAQD;;AACD,UAAM,IAAIpB,KAAJ,CAAU,+BAAV,CAAN;AACD;;;;MCnFkB+L,yBAAyBnE;AAC5CjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC;AAET,UAAMN,QAAN,EAAgBC,QAAhB,EAA0BC,YAA1B,EAAwC3G,WAAxC,EAAqD4G,MAArD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,WAA1F;;;;;;;;;;;;;;;;;;AATS,iBAAA,GAAAN,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AAGT,SAAK0B,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,UAAME,YAAY,GAAGrH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACmB,SAAL,CAAe,KAAKqE,SAApB,CAAX,CAArB;AACA,WAAO6B,YAAY,CAACwB,MAApB;AACA,UAAMvB,cAAc,GAAGC,SAAS,CAC9B;AACExH,MAAAA,KAAK,EAAE,KAAKA,KADd;AAEE2H,MAAAA,SAAS,EAAE,KAAKvC,QAFlB;AAGEU,MAAAA,KAAK,EAAE,KAAKA;AAHd,KAD8B,EAM9BwB,YAN8B,CAAhC;AASA,SAAKrB,QAAL,GAAgB,IAAIpC,GAAJ,CAAQH,YAAY,CAAC;AAAEC,MAAAA,OAAO,EAAE,KAAK2B,YAAhB;AAA8B1B,MAAAA,KAAK,EAAE,IAArC;AAA2C3E,MAAAA,IAAI,EAAEsI;AAAjD,KAAD,CAApB,CAAhB;AACD;;AAEgB,QAAXM,WAAW,CAAC5G,MAAD;AACf,UAAM;AAAEyF,MAAAA,OAAF;AAAWF,MAAAA;AAAX,QAA2BvF,MAAjC;AACA,UAAM;AAAE6H,MAAAA,MAAF;AAAUlK,MAAAA,eAAV;AAA2BC,MAAAA,yBAA3B;AAAsDoK,MAAAA,eAAe,GAAG;AAAxE,QAAuF,KAAKxD,SAAlG;;AACA,QAAIe,WAAJ,EAAiB;AACf,UAAI;AACF,cAAM0C,SAAS,GAAG,IAAIrF,GAAJ,CAAQiF,MAAR,CAAlB;AACA,cAAMpK,QAAQ,GAAG,MAAMoJ,GAAG,WAAmBpK,YAAY,CAACwL,SAAD,CAA/B,SAA6CD,eAA7C,GAAgE;AACxFlB,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,mBAAYxB,WAAZ;AADN;AAD+E,SAAhE,CAA1B;AAKA,cAAM;AAAEiC,UAAAA,OAAF;AAAW3J,UAAAA,IAAX;AAAiBqJ,UAAAA;AAAjB,YAA2BzJ,QAAjC;AACA,eAAO;AACLyJ,UAAAA,KADK;AAELrJ,UAAAA,IAFK;AAGLwJ,UAAAA,YAAY,EAAEG,OAHT;AAILF,UAAAA,UAAU,EAAE9J,aAAa,CAACC,QAAD,EAAW,KAAKC,WAAhB,EAA6BC,eAA7B,EAA8CC,yBAA9C,CAJpB;AAKLwG,UAAAA,QAAQ,EAAE,KAAKA,QALV;AAML1G,UAAAA,WAAW,EAAE,KAAKA;AANb,SAAP;AAQD,OAhBD,CAgBE,OAAOvB,KAAP,EAAc;AACd;AACAsC,QAAAA,KAAG,CAACyJ,IAAJ,CAAS/L,KAAT,EAAgB,sCAAhB;AACD;AACF;;AACD,QAAIsJ,OAAJ,EAAa;AACX,YAAM0C,YAAY,GAAGC,SAAS,CAAgB3C,OAAhB,CAA9B;AACA,YAAM;AAAE5H,QAAAA,IAAF;AAAQqJ,QAAAA,KAAR;AAAeM,QAAAA;AAAf,UAA2BW,YAAjC;AACA,aAAO;AACLd,QAAAA,YAAY,EAAEG,OADT;AAEL3J,QAAAA,IAFK;AAGLqJ,QAAAA,KAHK;AAILI,QAAAA,UAAU,EAAE9J,aAAa,CAAC2K,YAAD,EAAe,KAAKzK,WAApB,EAAiCC,eAAjC,EAAkDC,yBAAlD,CAJpB;AAKLwG,QAAAA,QAAQ,EAAE,KAAKA,QALV;AAML1G,QAAAA,WAAW,EAAE,KAAKA;AANb,OAAP;AAQD;;AACD,UAAM,IAAIpB,KAAJ,CAAU,+BAAV,CAAN;AACD;;AAEDwI,EAAAA,iBAAiB,CAAC9E,MAAD;AACf,UAAM;AAAEwF,MAAAA,QAAQ,EAAEC,OAAZ;AAAqBH,MAAAA,YAAY,EAAEC;AAAnC,QAAmD,KAAKf,SAA9D;AACA,UAAMO,cAAc,GAAG,IAAIhC,YAAJ,CAAiB;AAAErG,MAAAA,GAAG,EAAE,KAAKsI,QAAZ;AAAsB5C,MAAAA,QAAQ,EAAEpC,MAAM,CAACiF;AAAvC,KAAjB,CAAvB;;AACA,QAAI,KAAKX,MAAL,KAAgB5J,OAAO,CAACE,QAA5B,EAAsC;AACpCmK,MAAAA,cAAc,CAACjB,QAAf,CAAwB9D,MAAM,CAAC+D,yBAA/B;AACD,KAFD,MAEO;AACL,aAAOjI,OAAO,CAACC,OAAR,CAAgB;AACrBgD,QAAAA,KAAK,EAAE,EADc;AAErB0G,QAAAA,OAFqB;AAGrBF,QAAAA;AAHqB,OAAhB,CAAP;AAKD;;AACD,WAAO,IAAP;AACD;;;;;;;;;MCnFkBqC,mBAAmB1D;AAOtCjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC;AAET,UAAMN,QAAN,EAAgBC,QAAhB,EAA0BC,YAA1B,EAAwC3G,WAAxC,EAAqD4G,MAArD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,WAA1F;;;;;;;;;;;;;;;;;;mCAhB+B;;2CAEQ;;oCAEP;;AAGvB,iBAAA,GAAAN,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AAGT,SAAK0B,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,UAAM;AAAE0B,MAAAA;AAAF,QAAa,KAAKrD,SAAxB;AACA,UAAMyD,SAAS,GAAG,IAAIrF,GAAJ,CAAQiF,MAAR,CAAlB;AACAI,IAAAA,SAAS,CAACH,QAAV,GAAqB,qBAArB;AACA,SAAK9C,QAAL,GAAgBiD,SAAhB;AACD;;AAEgB,QAAXrB,WAAW,CAAC5G,MAAD;AACf,UAAM;AAAEyF,MAAAA,OAAF;AAAWF,MAAAA;AAAX,QAA2BvF,MAAjC;AACA,UAAM;AAAE6H,MAAAA,MAAF;AAAUlK,MAAAA,eAAV;AAA2BC,MAAAA;AAA3B,QAAyD,KAAK4G,SAApE;;AACA,QAAI;AACF,YAAMyD,SAAS,GAAG,IAAIrF,GAAJ,CAAQiF,MAAR,CAAlB;AACA,YAAMpK,QAAQ,GAAG,MAAMoJ,GAAG,WAAmBpK,YAAY,CAACwL,SAAD,CAA/B,eAAsD;AAC9EnB,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,mBAAYxB,WAAZ;AADN;AADqE,OAAtD,CAA1B;AAKA,YAAM;AAAEiC,QAAAA,OAAF;AAAW3J,QAAAA,IAAX;AAAiBqJ,QAAAA;AAAjB,UAA2BzJ,QAAjC;AACA,aAAO;AACLyJ,QAAAA,KADK;AAELrJ,QAAAA,IAFK;AAGLwJ,QAAAA,YAAY,EAAEG,OAHT;AAILF,QAAAA,UAAU,EAAE9J,aAAa,CAACC,QAAD,EAAW,KAAKC,WAAhB,EAA6BC,eAA7B,EAA8CC,yBAA9C,CAJpB;AAKLwG,QAAAA,QAAQ,EAAE,KAAKA,QALV;AAML1G,QAAAA,WAAW,EAAE,KAAKA;AANb,OAAP;AAQD,KAhBD,CAgBE,OAAOvB,KAAP,EAAc;AACdsC,MAAAA,GAAG,CAACtC,KAAJ,CAAUA,KAAV;AACA,YAAMgM,YAAY,GAAGC,SAAS,CAAC3C,OAAD,CAA9B;AACA,YAAM;AAAE5H,QAAAA,IAAF;AAAQqJ,QAAAA,KAAR;AAAeM,QAAAA;AAAf,UAA2BW,YAAjC;AACA,aAAO;AACLd,QAAAA,YAAY,EAAEG,OADT;AAEL3J,QAAAA,IAFK;AAGLqJ,QAAAA,KAHK;AAILI,QAAAA,UAAU,EAAE9J,aAAa,CAAC2K,YAAD,EAAe,KAAKzK,WAApB,EAAiCC,eAAjC,EAAkDC,yBAAlD,CAJpB;AAKLwG,QAAAA,QAAQ,EAAE,KAAKA,QALV;AAML1G,QAAAA,WAAW,EAAE,KAAKA;AANb,OAAP;AAQD;AACF;;AAEDoH,EAAAA,iBAAiB;AACf,WAAO,IAAIhJ,OAAJ,CAAiC,CAACC,OAAD,EAAUC,MAAV;AACtC,UAAI,KAAKuI,gBAAT,EAA2B;AACzBvI,QAAAA,MAAM,CAAC,IAAIM,KAAJ,CAAU,gDAAV,CAAD,CAAN;AACA;AACD;;AACD,YAAM6I,UAAU,GAAIjJ,EAAD;AACjB,YAAI;AACF,gBAAM;AAAEC,YAAAA,KAAF;AAASC,YAAAA;AAAT,cAAkBF,EAAxB;;AACA,uBAGIE,IAAI,IAAI,EAHZ;AAAA,gBAAM;AACJgJ,YAAAA,cADI;AAEJC,YAAAA,UAAU,EAAE;AAAEC,cAAAA,YAAY,EAAEC,WAAhB;AAA6BC,cAAAA,QAAQ,EAAEC;AAAvC;AAFR,WAAN;AAAA,gBAEiEC,IAFjE,iCAEEL,UAFF;;AAIA,cAAIlJ,KAAJ,EAAW;AACTsC,YAAAA,GAAG,CAACtC,KAAJ,CAAUD,EAAE,CAACC,KAAb;AACAH,YAAAA,MAAM,CAAC,IAAIM,KAAJ,CAAUH,KAAV,CAAD,CAAN;AACA;AACD;;AACD,cAAID,EAAE,CAACE,IAAH,IAAWgJ,cAAc,CAAChB,QAAf,KAA4B,KAAKA,QAAhD,EAA0D;AACxD3F,YAAAA,GAAG,CAACC,IAAJ,CAASxC,EAAE,CAACE,IAAZ;AACAL,YAAAA,OAAO;AAAGwJ,cAAAA,WAAH;AAAgBE,cAAAA,OAAO,EAAEA,OAAO,IAAI;AAApC,eAA2CC,IAA3C;AAAiD3G,cAAAA,KAAK,EAAEqG;AAAxD,eAAP;AACD;AACF,SAfD,CAeE,OAAOjJ,KAAP,EAAc;AACdsC,UAAAA,GAAG,CAACtC,KAAJ,CAAUA,KAAV;AACAH,UAAAA,MAAM,CAACG,KAAD,CAAN;AACD;AACF,OApBD;;AAqBA,YAAM+I,EAAE,GAAG,IAAIW,gBAAJ,4BAAyC,KAAKhB,KAA9C,GAAuD3H,uBAAvD,CAAX;AACAgI,MAAAA,EAAE,CAAC3I,gBAAH,CAAoB,SAApB,EAA+B,MAAOL,EAAP;AAC7BiJ,QAAAA,UAAU,CAACjJ,EAAD,CAAV;AACAgJ,QAAAA,EAAE,CAACrB,KAAH;AACD,OAHD;;AAIA,UAAI;AACF,cAAM;AAAEkE,UAAAA,UAAU,GAAG,OAAf;AAAwBO,UAAAA;AAAxB,YAAuC,KAAK9D,SAAlD;AACA,cAAM8B,cAAc,GAAGC,SAAS,CAC9B;AACEG,UAAAA,SAAS,EAAE,KAAKvC,QADlB;AAEE4D,UAAAA,UAFF;AAGEb,UAAAA,KAAK,EAAEa,UAAU,KAAK,OAAf,GAAyBO,UAAzB,GAAsCtH,SAH/C;AAIEuH,UAAAA,YAAY,EAAER,UAAU,KAAK,KAAf,GAAuBO,UAAvB,GAAoCtH,SAJpD;AAKEwH,UAAAA,IAAI,EAAE,MALR;AAMEC,UAAAA,UAAU,EAAE;AACVvI,YAAAA,KAAK,EAAE,KAAKyG,KADF;AAEV5H,YAAAA,KAAK,EAAE,KAAKA,KAFF;AAGVyH,YAAAA,aAAa,EAAE,KAAKC,aAHV;AAIVpC,YAAAA,YAAY,EAAE,KAAKA,YAJT;AAKVQ,YAAAA,KAAK,EAAE,KAAKA,KALF;AAMV6C,YAAAA,MAAM,EAAE,KAAKC;AANH;AANd,SAD8B,EAgB9B;AACEc,UAAAA,UAAU,EAAE,KAAKjE;AADnB,SAhB8B,CAAhC,CAFE;AAuBF;;AACAkE,QAAAA,IAAI,CAAC,KAAK1D,QAAL,CAAcrI,IAAf,EAAqBqC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACmB,SAAL,CAAemG,cAAf,CAAX,CAArB,CAAJ,CACGqC,IADH,CACSC,QAAD;AACJnK,UAAAA,GAAG,CAACC,IAAJ,CAAS,QAAT,EAAmBkK,QAAnB;AACA,iBAAO5H,SAAP;AACD,SAJH,EAKG6H,KALH,CAKU1M,KAAD;AACLsC,UAAAA,GAAG,CAACtC,KAAJ,CAAUA,KAAV;AACAH,UAAAA,MAAM,CAACG,KAAD,CAAN;AACD,SARH;AASD,OAjCD,CAiCE,OAAOA,KAAP,EAAc;AACdsC,QAAAA,GAAG,CAACtC,KAAJ,CAAUA,KAAV;AACAH,QAAAA,MAAM,CAACG,KAAD,CAAN;AACD;AACF,KApEM,CAAP;AAqED;;;;MCxIkB2M,sBAAsB5E;AAKzCjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC;AAET,UAAMN,QAAN,EAAgBC,QAAhB,EAA0BC,YAA1B,EAAwC3G,WAAxC,EAAqD4G,MAArD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,WAA1F;;;;;;;;;;;;;;;;;;2CAduC;;mCAER;;AAGtB,iBAAA,GAAAN,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AAGT,SAAK0B,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,UAAMC,QAAQ,GAAG,IAAIxD,GAAJ,kDAAkDpD,MAAM,CAACgC,UAAP,GAAoB,GAApB,GAA0B,UAA1B,GAAuC,EAAzF,EAAjB;AACA,UAAM6E,YAAY,GAAGrH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACmB,SAAL,CAAe,KAAKqE,SAAL,IAAkB,EAAjC,CAAX,CAArB;AACA,UAAM8B,cAAc,GAAGC,SAAS,CAC9B;AACExH,MAAAA,KAAK,EAAE,KAAKA,KADd;AAEEyH,MAAAA,aAAa,EAAE,KAAKC,aAFtB;AAGEC,MAAAA,SAAS,EAAE,KAAKvC,QAHlB;AAIEE,MAAAA,YAAY,EAAE,KAAKA,YAJrB;AAKEnE,MAAAA,KAAK,EAAE,KAAKyG;AALd,KAD8B,EAQ9BN,YAR8B,CAAhC;AAUAzH,IAAAA,MAAM,CAACC,IAAP,CAAYyH,cAAZ,EAA4B5F,OAA5B,CAAqCC,GAAD;AAClC,UAAI2F,cAAc,CAAC3F,GAAD,CAAlB,EAAyByF,QAAQ,CAACvD,YAAT,CAAsBC,MAAtB,CAA6BnC,GAA7B,EAAkC2F,cAAc,CAAC3F,GAAD,CAAhD;AAC1B,KAFD;AAGA,SAAKqE,QAAL,GAAgBoB,QAAhB;AACD;;AAEgB,QAAXQ,WAAW,CAAC5G,MAAD;AACf,UAAM;AAAEuF,MAAAA;AAAF,QAAkBvF,MAAxB;AACA,UAAMvC,QAAQ,GAAG,MAAMoJ,GAAG,CAAqC,oCAArC,EAA2E;AACnGC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,mBAAYxB,WAAZ;AADN;AAD0F,KAA3E,CAA1B;AAKA,UAAM;AAAEwD,MAAAA,QAAQ,EAAE1B,YAAY,GAAG,EAA3B;AAA+BxJ,MAAAA,IAAI,GAAG;AAAtC,QAA6CJ,QAAnD;AACA,WAAO;AACLyJ,MAAAA,KAAK,EAAE,EADF;AAELrJ,MAAAA,IAFK;AAGLwJ,MAAAA,YAAY,EAAEA,YAAY,CAAClJ,KAAb,CAAmB,GAAnB,EAAwBW,MAAxB,GAAiC,CAAjC,GAAqCuI,YAAY,CAAClJ,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAArC,GAAkEkJ,YAH3E;AAILjD,MAAAA,QAAQ,EAAE,KAAKA,QAJV;AAKLkD,MAAAA,UAAU,EAAEzJ,IAAI,CAACN,WAAL,EALP;AAMLG,MAAAA,WAAW,EAAE,KAAKA;AANb,KAAP;AAQD;;;;MCtDkBsL,sBAAsB9E;AAKzCjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC;AAET,UAAMN,QAAN,EAAgBC,QAAhB,EAA0BC,YAA1B,EAAwC3G,WAAxC,EAAqD4G,MAArD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,WAA1F;;;;;;;;;;;;;;;;;;2CAduC;;mCAER;;AAGtB,iBAAA,GAAAN,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AAGT,SAAK0B,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,UAAMC,QAAQ,GAAG,IAAIxD,GAAJ,CAAQ,uCAAR,CAAjB;AACA,UAAMyD,YAAY,GAAGrH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACmB,SAAL,CAAe,KAAKqE,SAAL,IAAkB,EAAjC,CAAX,CAArB;AACA,UAAM8B,cAAc,GAAGC,SAAS,CAC9B;AACExH,MAAAA,KAAK,EAAE,KAAKA,KADd;AAEEyH,MAAAA,aAAa,EAAE,KAAKC,aAFtB;AAGEC,MAAAA,SAAS,EAAE,KAAKvC,QAHlB;AAIEE,MAAAA,YAAY,EAAE,KAAKA,YAJrB;AAKEnE,MAAAA,KAAK,EAAE,KAAKyG,KALd;AAMEsC,MAAAA,YAAY,EAAE;AANhB,KAD8B,EAS9B5C,YAT8B,CAAhC;AAWAzH,IAAAA,MAAM,CAACC,IAAP,CAAYyH,cAAZ,EAA4B5F,OAA5B,CAAqCC,GAAD;AAClC,UAAI2F,cAAc,CAAC3F,GAAD,CAAlB,EAAyByF,QAAQ,CAACvD,YAAT,CAAsBC,MAAtB,CAA6BnC,GAA7B,EAAkC2F,cAAc,CAAC3F,GAAD,CAAhD;AAC1B,KAFD;AAGA,SAAKqE,QAAL,GAAgBoB,QAAhB;AACD;;AAEgB,QAAXQ,WAAW,CAAC5G,MAAD;AACf,UAAM;AAAEuF,MAAAA;AAAF,QAAkBvF,MAAxB;AACA,UAAMvC,QAAQ,GAAG,MAAMoJ,GAAG,CACxB,mCADwB,EAExB;AACEC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,mBAAYxB,WAAZ,CADN;AAEP,qBAAa,KAAKpB;AAFX;AADX,KAFwB,CAA1B;AASA,UAAM,CAAC;AAAE+E,MAAAA,iBAAiB,EAAE7B,YAAY,GAAG,EAApC;AAAwC8B,MAAAA,YAAY,EAAEtL,IAAI,GAAG,EAA7D;AAAiEqJ,MAAAA,KAAK,GAAG,EAAzE;AAA6EF,MAAAA,EAAE,EAAEM;AAAjF,KAAD,IAAkG7J,QAAQ,CAACrB,IAAT,IAAiB,EAAzH;AACA,WAAO;AACLiL,MAAAA,YADK;AAELxJ,MAAAA,IAFK;AAGLqJ,MAAAA,KAHK;AAILI,MAAAA,UAJK;AAKLlD,MAAAA,QAAQ,EAAE,KAAKA,QALV;AAML1G,MAAAA,WAAW,EAAE,KAAKA;AANb,KAAP;AAQD;;;;AC1DH,MAAM0L,sBAAsB,GAAG,oCAA/B;MAEqBC,wBAAwBnF;AAC3CjB,EAAAA,YACWkB,UACAC,UACAC,cACA3G,aACA4G,QACAC,kBACAC,WACAC,aACA6E;AAET,UAAMnF,QAAN,EAAgBC,QAAhB,EAA0BC,YAA1B,EAAwC3G,WAAxC,EAAqD4G,MAArD,EAA6DC,gBAA7D,EAA+EC,SAA/E,EAA0FC,WAA1F;;;;;;;;;;;;;;;;;;;;AAVS,iBAAA,GAAAN,QAAA;AACA,iBAAA,GAAAC,QAAA;AACA,qBAAA,GAAAC,YAAA;AACA,oBAAA,GAAA3G,WAAA;AACA,eAAA,GAAA4G,MAAA;AACA,yBAAA,GAAAC,gBAAA;AACA,kBAAA,GAAAC,SAAA;AACA,oBAAA,GAAAC,WAAA;AACA,qBAAA,GAAA6E,YAAA;AAGT,SAAKnD,WAAL;AACD;;AAEDA,EAAAA,WAAW;AACT,UAAMC,QAAQ,GAAG,IAAIxD,GAAJ,CAAQ,gCAAR,CAAjB;AACA,UAAMyD,YAAY,GAAGrH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACmB,SAAL,CAAe,KAAKqE,SAAL,IAAkB,EAAjC,CAAX,CAArB;AACA,UAAM8B,cAAc,GAAGC,SAAS,CAC9B;AACEgD,MAAAA,aAAa,EAAE,CAAC,CAAC,KAAKD,YADxB;AAEEvK,MAAAA,KAAK,EAAE,KAAKA,KAFd;AAGE2H,MAAAA,SAAS,EAAE,KAAKvC,QAHlB;AAIEE,MAAAA,YAAY,EAAE,KAAKA;AAJrB,KAD8B,EAO9BgC,YAP8B,CAAhC;AASAzH,IAAAA,MAAM,CAACC,IAAP,CAAYyH,cAAZ,EAA4B5F,OAA5B,CAAqCC,GAAD;AAClC,UAAI2F,cAAc,CAAC3F,GAAD,CAAlB,EAAyByF,QAAQ,CAACvD,YAAT,CAAsBC,MAAtB,CAA6BnC,GAA7B,EAAkC2F,cAAc,CAAC3F,GAAD,CAAhD;AAC1B,KAFD;AAGA,SAAKqE,QAAL,GAAgBoB,QAAhB;AACD;;AAEgB,QAAXQ,WAAW,CAAC4C,UAAD;AACf,UAAM;AAAE/D,MAAAA,OAAF;AAAWgE,MAAAA,GAAX;AAAgBC,MAAAA,iBAAhB;AAAmCC,MAAAA;AAAnC,QAAmDH,UAAzD;AACA,QAAIlC,UAAJ;AACA,QAAIsC,SAAJ;AACA,QAAIC,cAAJ;AACA,QAAIC,iBAAJ;AACA,QAAIC,SAAJ;AACA,QAAIC,SAAJ;AACA,QAAIC,QAAJ;AACA,QAAIC,MAAJ;;AAEA,QAAIR,iBAAiB,KAAK,MAA1B,EAAkC;AAChCjL,MAAAA,GAAG,CAAC0L,KAAJ,CAAU,wEAAV;;AACA,UAAI;AACF,SAAC;AACCC,UAAAA,WAAW,EAAE9C,UADd;AAECsC,UAAAA,SAFD;AAGCC,UAAAA,cAHD;AAICC,UAAAA,iBAJD;AAKCC,UAAAA,SALD;AAMCC,UAAAA,SAND;AAOCC,UAAAA,QAPD;AAQCC,UAAAA;AARD,YASGlL,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACyK,WAAD,CAAf,CATJ;AAUD,OAXD,CAWE,OAAOxN,KAAP,EAAc;AACdsC,QAAAA,GAAG,CAACyJ,IAAJ,CAAS,6BAAT,EAAwC/L,KAAxC;AACA,SAAC;AACCiO,UAAAA,WAAW,EAAE9C,UADd;AAECsC,UAAAA,SAFD;AAGCC,UAAAA,cAHD;AAICC,UAAAA,iBAJD;AAKCC,UAAAA,SALD;AAMCC,UAAAA,SAND;AAOCC,UAAAA,QAPD;AAQCC,UAAAA;AARD,YASG,MAAMrD,GAAG,WAAIuC,sBAAJ,8BAA8C3D,OAA9C,EATb;AAUD;AACF,KA1BD,MA0BO;AACLhH,MAAAA,GAAG,CAAC0L,KAAJ,CAAU,4EAAV;AACA,OAAC;AACCC,QAAAA,WAAW,EAAE9C,UADd;AAECsC,QAAAA,SAFD;AAGCC,QAAAA,cAHD;AAICC,QAAAA,iBAJD;AAKCC,QAAAA,SALD;AAMCC,QAAAA,SAND;AAOCC,QAAAA,QAPD;AAQCC,QAAAA;AARD,UASG,MAAMrD,GAAG,WAAIuC,sBAAJ,8BAA8C3D,OAA9C,EATb;AAUD;;AAED,QAAImE,SAAS,KAAKnE,OAAlB,EAA2B;AACzB,YAAM,IAAInJ,KAAJ,CAAU,sCAAV,CAAN;AACD;;AAED,WAAO;AACL4K,MAAAA,KAAK,EAAE,EADF;AAELrJ,MAAAA,IAAI,EAAE,gBAFD;AAGLwJ,MAAAA,YAAY,EAAE,EAHT;AAILjD,MAAAA,QAAQ,EAAE,KAAKA,QAJV;AAKLkD,MAAAA,UALK;AAML5J,MAAAA,WAAW,EAAE,KAAKA,WANb;AAOL+L,MAAAA,GAPK;AAQLH,MAAAA,YAAY,EAAE,KAAKA,YARd;AASLe,MAAAA,mBAAmB,EAAE;AACnBT,QAAAA,SADmB;AAEnBC,QAAAA,cAFmB;AAGnBC,QAAAA,iBAHmB;AAInBC,QAAAA,SAJmB;AAKnBC,QAAAA,SALmB;AAMnBC,QAAAA,QANmB;AAOnBC,QAAAA;AAPmB;AAThB,KAAP;AAmBD;;;;MC1GGI,aAAa,GAAG;MAAC;AACrBnG,IAAAA,QADqB;AAErBE,IAAAA,YAFqB;AAGrB3G,IAAAA,WAHqB;AAIrB0G,IAAAA,QAJqB;AAKrBI,IAAAA,SALqB;AAMrBD,IAAAA,gBANqB;AAOrBD,IAAAA,MAPqB;AAQrBG,IAAAA,WARqB;AASrB6E,IAAAA;AATqB;;AAWrB,MAAI,CAAClF,QAAD,IAAa,CAAC1G,WAAd,IAA6B,CAACyG,QAAlC,EAA4C;AAC1C,UAAM,IAAI7H,KAAJ,CAAU,gBAAV,CAAN;AACD;;AACD,QAAM;AAAEuL,IAAAA,MAAF;AAAUS,IAAAA,UAAV;AAAsB9C,IAAAA,QAAtB;AAAgCF,IAAAA;AAAhC,MAAiDd,SAAS,IAAI,EAApE;;AACA,UAAQ9G,WAAR;AACE,SAAKlE,KAAK,CAACC,MAAX;AACE,aAAO,IAAIgO,aAAJ,CAAkBtD,QAAlB,EAA4BC,QAA5B,EAAsCC,YAAtC,EAAoD3G,WAApD,EAAiE4G,MAAjE,EAAyEC,gBAAzE,EAA2FC,SAA3F,EAAsGC,WAAtG,CAAP;;AACF,SAAKjL,KAAK,CAACE,QAAX;AACE,aAAO,IAAI6N,eAAJ,CAAoBpD,QAApB,EAA8BC,QAA9B,EAAwCC,YAAxC,EAAsD3G,WAAtD,EAAmE4G,MAAnE,EAA2EC,gBAA3E,EAA6FC,SAA7F,EAAwGC,WAAxG,CAAP;;AACF,SAAKjL,KAAK,CAACK,MAAX;AACE,aAAO,IAAImP,aAAJ,CAAkB7E,QAAlB,EAA4BC,QAA5B,EAAsCC,YAAtC,EAAoD3G,WAApD,EAAiE4G,MAAjE,EAAyEC,gBAAzE,EAA2FC,SAA3F,EAAsGC,WAAtG,CAAP;;AACF,SAAKjL,KAAK,CAACG,MAAX;AACE,aAAO,IAAImP,aAAJ,CAAkB3E,QAAlB,EAA4BC,QAA5B,EAAsCC,YAAtC,EAAoD3G,WAApD,EAAiE4G,MAAjE,EAAyEC,gBAAzE,EAA2FC,SAA3F,EAAsGC,WAAtG,CAAP;;AACF,SAAKjL,KAAK,CAACI,OAAX;AACE,aAAO,IAAIsM,cAAJ,CAAmB/B,QAAnB,EAA6BC,QAA7B,EAAuCC,YAAvC,EAAqD3G,WAArD,EAAkE4G,MAAlE,EAA0EC,gBAA1E,EAA4FC,SAA5F,EAAuGC,WAAvG,CAAP;;AACF,SAAKjL,KAAK,CAACa,YAAX;AACE,UAAI,CAACwN,MAAD,IAAW,CAACS,UAAhB,EAA4B,MAAM,IAAIhM,KAAJ,CAAU,gBAAV,CAAN;AAC5B,aAAO,IAAIiO,UAAJ,CAAwBpG,QAAxB,EAAkCC,QAAlC,EAA4CC,YAA5C,EAA0D3G,WAA1D,EAAuE4G,MAAvE,EAA+EC,gBAA/E,EAAiGC,SAAjG,EAA4GC,WAA5G,CAAP;;AACF,SAAKjL,KAAK,CAACM,KAAX;AACA,SAAKN,KAAK,CAACO,MAAX;AACA,SAAKP,KAAK,CAACQ,QAAX;AACA,SAAKR,KAAK,CAACS,OAAX;AACA,SAAKT,KAAK,CAACU,KAAX;AACA,SAAKV,KAAK,CAACW,IAAX;AACA,SAAKX,KAAK,CAACY,cAAX;AACA,SAAKZ,KAAK,CAACc,GAAX;AACE,UAAI,CAACuN,MAAL,EAAa,MAAM,IAAIvL,KAAJ,CAAU,gBAAV,CAAN;;AACb,UAAIkJ,QAAQ,IAAIF,YAAhB,EAA8B;AAC5B,eAAO,IAAI+C,gBAAJ,CAAqBlE,QAArB,EAA+BC,QAA/B,EAAyCC,YAAzC,EAAuD3G,WAAvD,EAAoE4G,MAApE,EAA4EC,gBAA5E,EAA8FC,SAA9F,EAAyGC,WAAzG,CAAP;AACD;;AACD,aAAO,IAAImD,YAAJ,CAAezD,QAAf,EAAyBC,QAAzB,EAAmCC,YAAnC,EAAiD3G,WAAjD,EAA8D4G,MAA9D,EAAsEC,gBAAtE,EAAwFC,SAAxF,EAAmGC,WAAnG,CAAP;;AACF,SAAKjL,KAAK,CAACe,QAAX;AACE,aAAO,IAAI8O,eAAJ,CAAoBlF,QAApB,EAA8BC,QAA9B,EAAwCC,YAAxC,EAAsD3G,WAAtD,EAAmE4G,MAAnE,EAA2EC,gBAA3E,EAA6FC,SAA7F,EAAwGC,WAAxG,EAAqH6E,YAArH,CAAP;;AACF;AACE,YAAM,IAAIhN,KAAJ,CAAU,oBAAV,CAAN;AA9BJ;AAgCD;;ACvDM,MAAMkO,qBAAqB,GAAIC,OAAD,IACnC,IAAI3O,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV;AACV,QAAM0O,KAAK,aAAMD,OAAN,UAAX;;AAEA,MAAI,mBAAmBjL,MAAM,CAAC8C,SAA9B,EAAyC;AACvC;AACAqI,IAAAA,QAAQ,CAACD,KAAD,EAAQ;AACdE,MAAAA,KAAK;AACHnM,QAAAA,GAAG,CAACC,IAAJ,CAAS,qGAAT;AACA3C,QAAAA,OAAO,CAACiF,SAAD,CAAP;AACD,OAJa;;AAKd6J,MAAAA,UAAU;AACRpM,QAAAA,GAAG,CAACC,IAAJ,CAAS,qCAAT;AACA3C,QAAAA,OAAO,CAACiF,SAAD,CAAP;AACD,OARa;;AASd8J,MAAAA,MAAM;AACJrM,QAAAA,GAAG,CAACC,IAAJ,CAAS,0CAAT;AACA3C,QAAAA,OAAO,CAACiF,SAAD,CAAP;AACD,OAZa;;AAad+J,MAAAA,WAAW;AACTtM,QAAAA,GAAG,CAACC,IAAJ,CAAS,6BAAT;AACD,OAfa;;AAgBdsM,MAAAA,OAAO;AACLvM,QAAAA,GAAG,CAACC,IAAJ,CAAS,2CAAT;AACD,OAlBa;;AAmBduM,MAAAA,OAAO;AACLxM,QAAAA,GAAG,CAACC,IAAJ,CAAS,+DAAT;AACA1C,QAAAA,MAAM,CAAC,IAAIM,KAAJ,CAAU,gBAAV,CAAD,CAAN;AACD,OAtBa;;AAuBdH,MAAAA,KAAK,CAACA,KAAD;AACHsC,QAAAA,GAAG,CAACtC,KAAJ,CAAU,2CAAV,EAAuDA,KAAvD;AACAH,QAAAA,MAAM,CAACG,KAAD,CAAN;AACD;;AA1Ba,KAAR,CAAR;AA4BD,GA9BD,MA8BO;AACLH,IAAAA,MAAM,CAAC,IAAIM,KAAJ,CAAU,mCAAV,CAAD,CAAN;AACD;AACF,CApCD,CADK;;;;;;;;;;;AC6CP,MAAM4O,UAAN;AAiBEjI,EAAAA;QAAY;AACVwH,MAAAA,OADU;AAEVU,MAAAA,OAAO,GAAG/R,aAAa,CAACE,OAFd;AAGV8R,MAAAA,oBAHU;AAIVC,MAAAA,aAAa,GAAG,KAJN;AAKVC,MAAAA,YAAY,GAAG,KALL;AAMV/G,MAAAA,gBAAgB,GAAG,KANT;AAOVgH,MAAAA,gBAAgB,GAAG,UAPT;AAQVC,MAAAA,MAAM,GAAG,eARC;AASVlH,MAAAA,MAAM,GAAG5J,OAAO,CAACC,KATP;AAUV8Q,MAAAA,2BAA2B,GAAG5Q,8BAA8B,CAACE,eAVnD;AAWVgJ,MAAAA,yBAAyB,GAAG,KAXlB;AAYVkB,MAAAA,aAZU;AAaVyG,MAAAA,WAAW,GAAG;AAbJ;;;;;;;;;;AAeV,SAAKC,aAAL,GAAqB,KAArB;AACA,UAAMC,OAAO,GAAG,IAAIhJ,GAAJ,CAAQ6H,OAAR,CAAhB;AACA,SAAKoB,MAAL,GAAc;AACZpB,MAAAA,OAAO,EAAEhO,YAAY,CAACmP,OAAD,CADT;;AAEZ,UAAIvH,YAAJ;AACE,yBAAU,KAAKoG,OAAf,SAAyBc,gBAAzB;AACD,OAJW;;AAKZhH,MAAAA,gBALY;AAMZD,MAAAA,MANY;AAOZmH,MAAAA,2BAPY;AAQZ1H,MAAAA,yBARY;AASZkB,MAAAA;AATY,KAAd;AAWA,UAAM6G,KAAK,GAAG,IAAIC,KAAJ,CAAU;AACtBT,MAAAA,YADsB;AAEtBU,MAAAA,YAAY,EAAEN,WAFQ;AAGtBO,MAAAA,SAAS,YAAKxQ,UAAU,CAAC0P,OAAD,CAAf,eAHa;AAItBe,MAAAA,UAAU,YAAKzQ,UAAU,CAAC0P,OAAD,CAAf,cAJY;AAKtBA,MAAAA,OAAO,EAAEA;AALa,KAAV,CAAd;AAOAY,IAAAA,KAAK,CAACI,SAAN,CAAgBX,MAAhB;AACA,SAAKM,KAAL,GAAaA,KAAb;AACA,UAAMM,UAAU,GAAG/Q,WAAW,CAAC8P,OAAD,CAA9B;AACA,SAAKkB,iBAAL,GAAyB,IAAIC,iBAAJ,CAAsB;AAAEnB,MAAAA,OAAO,EAAEiB,UAAX;AAAuBG,MAAAA,YAAY,EAAEnB,oBAAoB,IAAIhQ,YAAY,CAAC+P,OAAD;AAAzE,KAAtB,CAAzB;AACA,QAAIE,aAAJ,EAAmB5M,GAAG,CAAC+N,SAAJ,GAAnB,KACK/N,GAAG,CAACgO,UAAJ;AACN;;AAES,QAAJC,IAAI;QAAC;AAAEC,MAAAA,MAAM,GAAG,KAAX;AAAkBC,MAAAA,QAAQ,GAAG,KAA7B;AAAoCC,MAAAA,YAAY,GAAG;AAAnD,4EAAyE;;AAClF,QAAID,QAAJ,EAAc;AACZ,WAAKjB,aAAL,GAAqB,IAArB;AACA;AACD;;AACD,QAAI,CAACgB,MAAL,EAAa;AACX,YAAMG,eAAe,GAAG,MAAMC,KAAK,WAAI,KAAKlB,MAAL,CAAYpB,OAAhB,YAAgC;AAAEuC,QAAAA,KAAK,EAAE;AAAT,OAAhC,CAAnC;;AACA,UAAIF,eAAe,CAACG,EAApB,EAAwB;AACtB,YAAI;AACF,gBAAMzC,qBAAqB,CAAC,KAAKqB,MAAL,CAAYpB,OAAb,CAA3B;AACA,eAAKkB,aAAL,GAAqB,IAArB;AACA;AACD,SAJD,CAIE,OAAOxP,KAAP,EAAc;AACdsC,UAAAA,GAAG,CAACyJ,IAAJ,CAAS/L,KAAT;AACD;AACF,OARD,MAQO;AACL,cAAM,IAAIG,KAAJ,CAAU,qDAAV,CAAN;AACD;AACF;;AACD,QAAI,CAACuQ,YAAL,EAAmB;AACjB;AACA,UAAIxK,SAAS,EAAb,EAAiB;AACf,aAAKsJ,aAAL,GAAqB,IAArB;AACA;AACD;;AACD,YAAM,KAAKuB,yBAAL,EAAN;AACA;AACD;;AACD,SAAKvB,aAAL,GAAqB,IAArB;AACD;;AAEiB,QAAZwB,YAAY,CAACC,IAAD;AAChB,UAAM;AAAEhJ,MAAAA,QAAF;AAAY1G,MAAAA,WAAZ;AAAyByG,MAAAA,QAAzB;AAAmCK,MAAAA,SAAnC;AAA8CxG,MAAAA,IAA9C;AAAoDC,MAAAA,eAApD;AAAqEwG,MAAAA,WAArE;AAAkF6E,MAAAA;AAAlF,QAAmG8D,IAAzG;AACA3O,IAAAA,GAAG,CAACC,IAAJ,CAAS,YAAT,EAAuB0F,QAAvB;;AACA,QAAI,CAAC,KAAKuH,aAAV,EAAyB;AACvB,YAAM,IAAIrP,KAAJ,CAAU,qBAAV,CAAN;AACD;;AACD,QAAIgN,YAAY,IAAI5L,WAAW,KAAKlE,KAAK,CAACe,QAA1C,EAAoD,MAAM,IAAI+B,KAAJ,CAAU,mDAAV,CAAN;AACpD,UAAM+Q,YAAY,GAAkB/C,aAAa,CAAC;AAChD5M,MAAAA,WADgD;AAEhDyG,MAAAA,QAFgD;AAGhDC,MAAAA,QAHgD;AAIhDC,MAAAA,YAAY,EAAE,KAAKwH,MAAL,CAAYxH,YAJsB;AAKhDE,MAAAA,gBAAgB,EAAE,KAAKsH,MAAL,CAAYtH,gBALkB;AAMhDC,MAAAA,SANgD;AAOhDF,MAAAA,MAAM,EAAE,KAAKuH,MAAL,CAAYvH,MAP4B;AAQhDG,MAAAA,WARgD;AAShD6E,MAAAA;AATgD,KAAD,CAAjD;AAWA,QAAIgE,WAAJ;;AACA,QAAItP,IAAI,IAAIC,eAAZ,EAA6B;AAC3B,YAAM;AAAE9B,QAAAA,KAAF;AAAS+B,QAAAA,cAAT;AAAyBS,QAAAA;AAAzB,UAAgDZ,wBAAwB,CAACC,IAAD,EAAOC,eAAP,CAA9E;AACA,UAAI9B,KAAJ,EAAW,MAAM,IAAIG,KAAJ,CAAUH,KAAV,CAAN;;AACX,YAAM;AAAEmJ,QAAAA,YAAY,EAAEC,WAAhB;AAA6BC,QAAAA,QAAQ,EAAEC;AAAvC,UAA4DvH,cAAlE;AAAA,YAAyDwH,IAAzD,4BAAkExH,cAAlE,aAH2B;;;AAK3BoP,MAAAA,WAAW;AAAK/H,QAAAA,WAAL;AAAkBE,QAAAA;AAAlB,SAA8BC,IAA9B;AAAoC3G,QAAAA,KAAK,EAAEJ;AAA3C,QAAX;AACD,KAND,MAMO;AACL6B,MAAAA,yBAAyB,CAAC,KAAKqL,MAAL,CAAYJ,2BAAb,CAAzB;AACA1L,MAAAA,iBAAiB,CAAC;AAAEwN,QAAAA,MAAM,EAAEvS,YAAY,CAACC,aAAvB;AAAsCmS,QAAAA;AAAtC,OAAD,EAA+C,KAAKvB,MAAL,CAAYJ,2BAA3D,EAAwF4B,YAAY,CAACxI,KAArG,CAAjB;AACAyI,MAAAA,WAAW,GAAG,MAAMD,YAAY,CAACvI,iBAAb,CAA+B;AACjDf,QAAAA,yBAAyB,EAAE,KAAK8H,MAAL,CAAY9H,yBADU;AAEjDkB,QAAAA,aAAa,EAAE,KAAK4G,MAAL,CAAY5G;AAFsB,OAA/B,CAApB;AAIA,UAAI,KAAK4G,MAAL,CAAYvH,MAAZ,KAAuB5J,OAAO,CAACE,QAAnC,EAA6C,OAAO,IAAP;AAC9C;;AAED,UAAM6C,QAAQ,GAAG,MAAM4P,YAAY,CAACzG,WAAb,CAAyB0G,WAAzB,CAAvB;;AACA,QAAIhE,YAAJ,EAAkB;AAChB,YAAM;AAAEkE,QAAAA,kBAAF;AAAsBC,QAAAA;AAAtB,UAAuC,MAAM,KAAKpB,iBAAL,CAAuBqB,cAAvB,CAAsC;AAAEtJ,QAAAA,QAAF;AAAYkD,QAAAA,UAAU,EAAE7J,QAAQ,CAAC6J;AAAjC,OAAtC,CAAnD;AACA,YAAMqG,WAAW,GAAG,MAAM,KAAK7B,KAAL,CAAW8B,gBAAX,CAA4BJ,kBAA5B,EAAgDC,YAAhD,EAA8D;AAAErJ,QAAAA,QAAF;AAAYkD,QAAAA,UAAU,EAAE7J,QAAQ,CAAC6J;AAAjC,OAA9D,EAA6G,IAA7G,CAA1B;AAEA,YAAMuG,GAAG,GAAG;AACVpQ,QAAAA,QAAQ,kCACHA,QADG,GAEH6P,WAFG;AADE,OAAZ;;AAMA,UAAI,OAAOK,WAAP,KAAuB,QAA3B,EAAqC;AACnC,cAAM,IAAIrR,KAAJ,CAAU,uCAAV,CAAN;AACD;;AACD,YAAMwR,QAAQ,GAAa;AACzBC,QAAAA,UAAU,EAAEJ,WAAW,CAACI,UADC;AAEzBC,QAAAA,MAAM,EAAE;AACNC,UAAAA,SAAS,EAAEN,WAAW,CAACO,CADjB;AAENC,UAAAA,SAAS,EAAER,WAAW,CAACS;AAFjB,SAFiB;AAMzBC,QAAAA,aAAa,EAAEV,WAAW,CAACW,OANF;AAOzBC,QAAAA,UAAU,EAAE,IAPa;AAQzBC,QAAAA,aAAa,EAAE;AARU,OAA3B;AAUA,6CAAYX,GAAZ,GAAoBC,QAApB;AACD;;AAED,UAAMA,QAAQ,GAAG,MAAM,KAAKW,WAAL,CACrBrK,QADqB,EAErB3G,QAAQ,CAAC6J,UAFY,EAGrB;AAAE8C,MAAAA,WAAW,EAAE3M,QAAQ,CAAC6J;AAAxB,KAHqB,EAIrBgG,WAAW,CAAC7H,OAAZ,IAAuB6H,WAAW,CAAC/H,WAJd,EAKrB9H,QAAQ,CAAC4M,mBALY,CAAvB;AAOA,2CACKyD,QADL;AAEErQ,MAAAA,QAAQ,kCACHA,QADG,GAEH6P,WAFG;AAFV;AAOD;;AAE0B,QAArBoB,qBAAqB,CAACtB,IAAD;AACzB;AACA,UAAM;AAAEuB,MAAAA,qBAAF;AAAyBC,MAAAA,kBAAzB;AAA6CC,MAAAA;AAA7C,QAAyEzB,IAA/E;;AACA,QAAI,CAAC,KAAKzB,aAAV,EAAyB;AACvB,YAAM,IAAIrP,KAAJ,CAAU,qBAAV,CAAN;AACD;;AACD,QAAI,CAACqS,qBAAD,IAA0B,CAACC,kBAA3B,IAAiD,CAACE,KAAK,CAACC,OAAN,CAAcF,uBAAd,CAAtD,EAA8F;AAC5F,YAAM,IAAIvS,KAAJ,CAAU,gBAAV,CAAN;AACD;;AACD,QAAIqS,qBAAqB,KAAKnU,kBAAkB,CAACC,kBAA7C,IAAmEoU,uBAAuB,CAAC/P,MAAxB,KAAmC,CAA1G,EAA6G;AAC3G,YAAM,IAAIxC,KAAJ,CAAU,mDAAV,CAAN;AACD;;AACD,UAAM0S,gBAAgB,GAAqC,EAA3D;AACA,UAAMC,gBAAgB,GAA0B,EAAhD;;AACA,SAAK,MAAMC,iBAAX,IAAgCL,uBAAhC,EAAyD;AACvD,YAAM;AAAE1K,QAAAA,QAAF;AAAYzG,QAAAA,WAAZ;AAAyB0G,QAAAA,QAAzB;AAAmCI,QAAAA,SAAnC;AAA8CxG,QAAAA,IAA9C;AAAoDC,QAAAA,eAApD;AAAqEwG,QAAAA;AAArE,UAAqFyK,iBAA3F;AACA,YAAM7B,YAAY,GAAkB/C,aAAa,CAAC;AAChD5M,QAAAA,WADgD;AAEhDyG,QAAAA,QAFgD;AAGhDC,QAAAA,QAHgD;AAIhDC,QAAAA,YAAY,EAAE,KAAKwH,MAAL,CAAYxH,YAJsB;AAKhDE,QAAAA,gBAAgB,EAAE,KAAKsH,MAAL,CAAYtH,gBALkB;AAMhDC,QAAAA,SANgD;AAOhDF,QAAAA,MAAM,EAAE,KAAKuH,MAAL,CAAYvH,MAP4B;AAQhDG,QAAAA;AARgD,OAAD,CAAjD,CAFuD;;AAavD,UAAI6I,WAAJ;;AACA,UAAItP,IAAI,IAAIC,eAAZ,EAA6B;AAC3B,cAAM;AAAE9B,UAAAA,KAAF;AAAS+B,UAAAA,cAAT;AAAyBS,UAAAA;AAAzB,YAAgDZ,wBAAwB,CAACC,IAAD,EAAOC,eAAP,CAA9E;AACA,YAAI9B,KAAJ,EAAW,MAAM,IAAIG,KAAJ,CAAUH,KAAV,CAAN;;AACX,cAAM;AAAEmJ,UAAAA,YAAY,EAAEC,WAAhB;AAA6BC,UAAAA,QAAQ,EAAEC;AAAvC,YAA4DvH,cAAlE;AAAA,cAAyDwH,IAAzD,4BAAkExH,cAAlE,cAH2B;;;AAK3BoP,QAAAA,WAAW;AAAK/H,UAAAA,WAAL;AAAkBE,UAAAA;AAAlB,WAA8BC,IAA9B;AAAoC3G,UAAAA,KAAK,EAAEJ;AAA3C,UAAX;AACD,OAND,MAMO;AACL6B,QAAAA,yBAAyB,CAAC,KAAKqL,MAAL,CAAYJ,2BAAb,CAAzB;AACA1L,QAAAA,iBAAiB,CAAC;AAAEwN,UAAAA,MAAM,EAAEvS,YAAY,CAACE,uBAAvB;AAAgDkS,UAAAA;AAAhD,SAAD,EAAyD,KAAKvB,MAAL,CAAYJ,2BAArE,EAAkG4B,YAAY,CAACxI,KAA/G,CAAjB;AACAyI,QAAAA,WAAW,GAAG,MAAMD,YAAY,CAACvI,iBAAb,CAA+B;AACjDf,UAAAA,yBAAyB,EAAE,KAAK8H,MAAL,CAAY9H,yBADU;AAEjDkB,UAAAA,aAAa,EAAE,KAAK4G,MAAL,CAAY5G;AAFsB,SAA/B,CAApB;AAIA,YAAI,KAAK4G,MAAL,CAAYvH,MAAZ,KAAuB5J,OAAO,CAACE,QAAnC,EAA6C,OAAO,IAAP;AAC9C,OA5BsD;;;AA+BvDoU,MAAAA,gBAAgB,CAACG,IAAjB,CAAsB9B,YAAY,CAACzG,WAAb,CAAyB0G,WAAzB,CAAtB;AACA2B,MAAAA,gBAAgB,CAACE,IAAjB,CAAsB7B,WAAtB;AACD;;AACD,UAAM8B,cAAc,GAAG,MAAMtT,OAAO,CAACuT,GAAR,CAAYL,gBAAZ,CAA7B;;AACA,UAAMM,aAAa,GAAGF,cAAc,CAACG,GAAf,CAAoB9R,QAAD,oCAAoBA,QAApB;AAA8B+R,MAAAA,iBAAiB,EAAEZ;AAAjD,MAAnB,CAAtB;;AACA,UAAMa,uBAAuB,GAAG;AAAEC,MAAAA,aAAa,EAAE,EAAjB;AAAqBC,MAAAA,gBAAgB,EAAE,EAAvC;AAA2CvF,MAAAA,WAAW,EAAE;AAAxD,KAAhC;AACA,UAAMwF,qBAAqB,GAAG,EAA9B;AACA,QAAIC,mBAAmB,GAAG,EAA1B;AACA,QAAIxF,mBAAmB,GAAG,EAA1B;;AACA,SAAK,IAAIyF,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGjB,uBAAuB,CAAC/P,MAApD,EAA4DgR,KAAK,IAAI,CAArE,EAAwE;AACtE,YAAMxC,WAAW,GAAG2B,gBAAgB,CAACa,KAAD,CAApC;AACA,YAAM;AAAErK,QAAAA,OAAF;AAAWF,QAAAA;AAAX,UAA2B+H,WAAjC;AACA,YAAM7P,QAAQ,GAAG6R,aAAa,CAACQ,KAAD,CAA9B;AACAL,MAAAA,uBAAuB,CAACC,aAAxB,CAAsCP,IAAtC,CAA2C;AAAE/E,QAAAA,WAAW,EAAE3M,QAAQ,CAAC6J,UAAxB;AAAoCyI,QAAAA,OAAO,EAAEtK,OAAO,IAAIF;AAAxD,OAA3C;AACAkK,MAAAA,uBAAuB,CAACE,gBAAxB,CAAyCR,IAAzC,CAA8C1R,QAAQ,CAAC2G,QAAvD;AACAwL,MAAAA,qBAAqB,CAACT,IAAtB,CAA2B1J,OAAO,IAAIF,WAAtC;AACAsK,MAAAA,mBAAmB,GAAGpS,QAAQ,CAAC6J,UAA/B,CAPsE;;AAQtE+C,MAAAA,mBAAmB,GAAG5M,QAAQ,CAAC4M,mBAA/B;AACD;;AACDuF,IAAAA,qBAAqB,CAACI,IAAtB;AACA,UAAMC,gBAAgB,GAAGC,SAAS,CAACN,qBAAqB,CAACO,IAAtB,CAA2BC,MAAM,CAACC,YAAP,CAAoB,EAApB,CAA3B,CAAD,CAAT,CAA+DpT,KAA/D,CAAqE,CAArE,CAAzB;AACAwS,IAAAA,uBAAuB,CAACrF,WAAxB,GAAsCyF,mBAAtC;AACA,UAAM/B,QAAQ,GAAG,MAAM,KAAKW,WAAL,CAAiBG,kBAAjB,EAAqCiB,mBAArC,EAA0DJ,uBAA1D,EAAmFQ,gBAAnF,EAAqG5F,mBAArG,CAAvB;AACA,2CACKyD,QADL;AAEErQ,MAAAA,QAAQ,EAAE6R,aAAa,CAACC,GAAd,CAAkB,CAAC9P,CAAD,EAAIqQ,KAAJ,qCAAoBrQ,CAApB,GAA0BwP,gBAAgB,CAACa,KAAD,CAA1C,CAAlB;AAFZ;AAID;;AAEgC,QAA3BQ,2BAA2B,CAAClD,IAAD;AAC/B,UAAM;AAAEmD,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAAwCpD,IAA9C;;AAEA,QAAI,CAAC,KAAKzB,aAAV,EAAyB;AACvB,YAAM,IAAIrP,KAAJ,CAAU,qBAAV,CAAN;AACD;;AACD,QACE,CAACkU,oBAAoB,CAAC7B,qBAAtB,IACA,CAAC6B,oBAAoB,CAAC5B,kBADtB,IAEA,CAACE,KAAK,CAACC,OAAN,CAAcyB,oBAAoB,CAAC3B,uBAAnC,CAHH,EAIE;AACA,YAAM,IAAIvS,KAAJ,CAAU,gBAAV,CAAN;AACD;;AACD,QACEkU,oBAAoB,CAAC7B,qBAArB,KAA+CnU,kBAAkB,CAACC,kBAAlE,IACA+V,oBAAoB,CAAC3B,uBAArB,CAA6C/P,MAA7C,KAAwD,CAF1D,EAGE;AACA,YAAM,IAAIxC,KAAJ,CAAU,mDAAV,CAAN;AACD;;AACD,UAAM;AAAEoB,MAAAA,WAAF;AAAeyG,MAAAA,QAAf;AAAyBC,MAAAA,QAAzB;AAAmCI,MAAAA,SAAnC;AAA8CxG,MAAAA,IAA9C;AAAoDC,MAAAA,eAApD;AAAqEwG,MAAAA;AAArE,QAAqF8L,WAA3F;AACA,UAAMlD,YAAY,GAAkB/C,aAAa,CAAC;AAChD5M,MAAAA,WADgD;AAEhDyG,MAAAA,QAFgD;AAGhDC,MAAAA,QAHgD;AAIhDC,MAAAA,YAAY,EAAE,KAAKwH,MAAL,CAAYxH,YAJsB;AAKhDE,MAAAA,gBAAgB,EAAE,KAAKsH,MAAL,CAAYtH,gBALkB;AAMhDC,MAAAA,SANgD;AAOhDF,MAAAA,MAAM,EAAE,KAAKuH,MAAL,CAAYvH,MAP4B;AAQhDG,MAAAA;AARgD,KAAD,CAAjD;AAUA,QAAI6I,WAAJ;;AACA,QAAItP,IAAI,IAAIC,eAAZ,EAA6B;AAC3B,YAAM;AAAE9B,QAAAA,KAAF;AAAS+B,QAAAA,cAAT;AAAyBS,QAAAA;AAAzB,UAAgDZ,wBAAwB,CAACC,IAAD,EAAOC,eAAP,CAA9E;AACA,UAAI9B,KAAJ,EAAW,MAAM,IAAIG,KAAJ,CAAUH,KAAV,CAAN;;AACX,YAAM;AAAEmJ,QAAAA,YAAY,EAAEC,WAAhB;AAA6BC,QAAAA,QAAQ,EAAEC;AAAvC,UAA4DvH,cAAlE;AAAA,YAAyDwH,IAAzD,4BAAkExH,cAAlE,cAH2B;;;AAK3BoP,MAAAA,WAAW;AAAK/H,QAAAA,WAAL;AAAkBE,QAAAA;AAAlB,SAA8BC,IAA9B;AAAoC3G,QAAAA,KAAK,EAAEJ;AAA3C,QAAX;AACD,KAND,MAMO;AACL6B,MAAAA,yBAAyB,CAAC,KAAKqL,MAAL,CAAYJ,2BAAb,CAAzB;AACA1L,MAAAA,iBAAiB,CAAC;AAAEwN,QAAAA,MAAM,EAAEvS,YAAY,CAACG,8BAAvB;AAAuDiS,QAAAA;AAAvD,OAAD,EAAgE,KAAKvB,MAAL,CAAYJ,2BAA5E,EAAyG4B,YAAY,CAACxI,KAAtH,CAAjB;AACAyI,MAAAA,WAAW,GAAG,MAAMD,YAAY,CAACvI,iBAAb,CAA+B;AACjDf,QAAAA,yBAAyB,EAAE,KAAK8H,MAAL,CAAY9H,yBADU;AAEjDkB,QAAAA,aAAa,EAAE,KAAK4G,MAAL,CAAY5G;AAFsB,OAA/B,CAApB;AAIA,UAAI,KAAK4G,MAAL,CAAYvH,MAAZ,KAAuB5J,OAAO,CAACE,QAAnC,EAA6C,OAAO,IAAP;AAC9C;;AAED,UAAM6C,QAAQ,GAAG,MAAM4P,YAAY,CAACzG,WAAb,CAAyB0G,WAAzB,CAAvB;AACA,UAAMmD,gBAAgB,GAAG,KAAKhC,WAAL,CACvBrK,QADuB,EAEvB3G,QAAQ,CAAC6J,UAFc,EAGvB;AAAE8C,MAAAA,WAAW,EAAE3M,QAAQ,CAAC6J;AAAxB,KAHuB,EAIvBgG,WAAW,CAAC7H,OAAZ,IAAuB6H,WAAW,CAAC/H,WAJZ,EAKvB9H,QAAQ,CAAC4M,mBALc,CAAzB;AAQA,UAAM;AAAEuE,MAAAA,kBAAF;AAAsBC,MAAAA;AAAtB,QAAkD2B,oBAAxD;AACA,UAAMf,uBAAuB,GAAG;AAAEC,MAAAA,aAAa,EAAE,EAAjB;AAAqBC,MAAAA,gBAAgB,EAAE,EAAvC;AAA2CvF,MAAAA,WAAW,EAAE;AAAxD,KAAhC;AACA,UAAMwF,qBAAqB,GAAG,EAA9B;AACA,QAAIC,mBAAmB,GAAG,EAA1B;;AACA,SAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGjB,uBAAuB,CAAC/P,MAApD,EAA4DgR,KAAK,IAAI,CAArE,EAAwE;AACtE,YAAMhS,GAAG,GAAG+Q,uBAAuB,CAACiB,KAAD,CAAnC;AACA,YAAM;AAAErK,QAAAA,OAAF;AAAWF,QAAAA;AAAX,UAA2B+H,WAAjC;AACAmC,MAAAA,uBAAuB,CAACC,aAAxB,CAAsCP,IAAtC,CAA2C;AAAE/E,QAAAA,WAAW,EAAE3M,QAAQ,CAAC6J,UAAxB;AAAoCyI,QAAAA,OAAO,EAAEtK,OAAO,IAAIF;AAAxD,OAA3C;AACAkK,MAAAA,uBAAuB,CAACE,gBAAxB,CAAyCR,IAAzC,CAA8CrR,GAAG,CAACsG,QAAlD;AACAwL,MAAAA,qBAAqB,CAACT,IAAtB,CAA2B1J,OAAO,IAAIF,WAAtC;AACAsK,MAAAA,mBAAmB,GAAGpS,QAAQ,CAAC6J,UAA/B,CANsE;AAOvE;;AACDsI,IAAAA,qBAAqB,CAACI,IAAtB;AACA,UAAMC,gBAAgB,GAAGC,SAAS,CAACN,qBAAqB,CAACO,IAAtB,CAA2BC,MAAM,CAACC,YAAP,CAAoB,EAApB,CAA3B,CAAD,CAAT,CAA+DpT,KAA/D,CAAqE,CAArE,CAAzB;AACAwS,IAAAA,uBAAuB,CAACrF,WAAxB,GAAsCyF,mBAAtC;AACA,UAAMa,gBAAgB,GAAG,KAAKjC,WAAL,CACvBG,kBADuB,EAEvBiB,mBAFuB,EAGvBJ,uBAHuB,EAIvBQ,gBAJuB,EAKvBxS,QAAQ,CAAC4M,mBALc,CAAzB;AAOA,UAAM,CAACsG,SAAD,EAAYC,SAAZ,IAAyB,MAAM9U,OAAO,CAACuT,GAAR,CAAY,CAACoB,gBAAD,EAAmBC,gBAAnB,CAAZ,CAArC;AACA,WAAO;AACLH,MAAAA,WAAW;AACT9S,QAAAA,QAAQ,kCAAOA,QAAP,GAAoB6P,WAApB;AADC,SAENqD,SAFM,CADN;AAKLE,MAAAA,eAAe,EAAE,CAACD,SAAD;AALZ,KAAP;AAOD;;AAEgB,QAAXnC,WAAW,CACfrK,QADe,EAEfkD,UAFe,EAGfwJ,cAHe,EAIfrL,OAJe,EAKfsL,gBALe;AAOf,UAAM;AAAEvD,MAAAA,kBAAF;AAAsBC,MAAAA,YAAtB;AAAoCuD,MAAAA;AAApC,QAAqD,MAAM,KAAK3E,iBAAL,CAAuBqB,cAAvB,CAAsC;AAAEtJ,MAAAA,QAAF;AAAYkD,MAAAA;AAAZ,KAAtC,CAAjE;AACA7I,IAAAA,GAAG,CAAC0L,KAAJ,CAAU,0BAAV,EAAsC;AAAEqD,MAAAA,kBAAF;AAAsBC,MAAAA,YAAtB;AAAoCuD,MAAAA;AAApC,KAAtC;AAEA,UAAM1C,OAAO,GAAG,MAAM,KAAKxC,KAAL,CAAW8B,gBAAX,CAA4BJ,kBAA5B,EAAgDC,YAAhD,EAA8D;AAAErJ,MAAAA,QAAF;AAAYkD,MAAAA;AAAZ,KAA9D,EAAwF,IAAxF,CAAtB;AACA,QAAI,OAAOgH,OAAP,KAAmB,QAAvB,EAAiC,MAAM,IAAIhS,KAAJ,CAAU,2BAAV,CAAN;AACjCmC,IAAAA,GAAG,CAAC0L,KAAJ,CAAU,0BAAV,EAAsC;AAAEyD,MAAAA,gBAAgB,EAAEU;AAApB,KAAtC;AAEA,UAAM2C,MAAM,GAAG,MAAM,KAAKnF,KAAL,CAAWoF,cAAX,CAA0B1D,kBAA1B,EAA8CwD,YAA9C,EAA4D5M,QAA5D,EAAsE0M,cAAtE,EAAsFrL,OAAtF,EAA+FsL,gBAA/F,CAArB;;AACA,QAAIE,MAAM,CAACE,UAAP,CAAkB5T,WAAlB,OAAoC+Q,OAAO,CAACA,OAAR,CAAgB/Q,WAAhB,EAAxC,EAAuE;AACrE,YAAM,IAAIjB,KAAJ,CAAU,iDAAV,CAAN;AACD;;AACDmC,IAAAA,GAAG,CAAC0L,KAAJ,CAAU,0BAAV,EAAsC;AAAE+G,MAAAA,cAAc,EAAED;AAAlB,KAAtC;AAEA,WAAO;AACL5C,MAAAA,aAAa,EAAE4C,MAAM,CAACE,UAAP,CAAkBnU,QAAlB,EADV;AAELuR,MAAAA,UAAU,EAAE0C,MAAM,CAACG,OAAP,CAAepU,QAAf,EAFP;AAGLwR,MAAAA,aAAa,EAAEyC,MAAM,CAACzC,aAAP,CAAqBxR,QAArB,CAA8B,KAA9B,CAHV;AAIL+Q,MAAAA,UAAU,EAAEO,OAAO,CAACP,UAJf;AAKLC,MAAAA,MAAM,EAAE;AACNC,QAAAA,SAAS,EAAEK,OAAO,CAACJ,CADb;AAENC,QAAAA,SAAS,EAAEG,OAAO,CAACF;AAFb;AALH,KAAP;AAUD;;AAEyB,QAApBiD,oBAAoB,CACxBjN,QADwB,EAExBkD,UAFwB;AAGxBgK,EAAAA,oBAHwB;AAKxB,UAAM7B,uBAAuB,GAAG;AAAEC,MAAAA,aAAa,EAAE,EAAjB;AAAqBC,MAAAA,gBAAgB,EAAE,EAAvC;AAA2CvF,MAAAA,WAAW,EAAE;AAAxD,KAAhC;AACA,UAAMwF,qBAAqB,GAAG,EAA9B;AACA,QAAIvF,mBAAmB,GAAG,EAA1B;;AACA,SAAK,IAAIyF,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGwB,oBAAoB,CAACxS,MAAjD,EAAyDgR,KAAK,IAAI,CAAlE,EAAqE;AACnE,YAAMrS,QAAQ,GAAG6T,oBAAoB,CAACxB,KAAD,CAArC;AACAL,MAAAA,uBAAuB,CAACC,aAAxB,CAAsCP,IAAtC,CAA2C;AAAE/E,QAAAA,WAAW,EAAE9C,UAAf;AAA2ByI,QAAAA,OAAO,EAAEtS,QAAQ,CAACgI;AAA7C,OAA3C;AACAgK,MAAAA,uBAAuB,CAACE,gBAAxB,CAAyCR,IAAzC,CAA8C1R,QAAQ,CAAC2G,QAAvD;AACAwL,MAAAA,qBAAqB,CAACT,IAAtB,CAA2B1R,QAAQ,CAACgI,OAApC;AACA4E,MAAAA,mBAAmB,GAAG5M,QAAQ,CAAC4M,mBAA/B;AACD;;AACDuF,IAAAA,qBAAqB,CAACI,IAAtB;AACA,UAAMC,gBAAgB,GAAGC,SAAS,CAACN,qBAAqB,CAACO,IAAtB,CAA2BC,MAAM,CAACC,YAAP,CAAoB,EAApB,CAA3B,CAAD,CAAT,CAA+DpT,KAA/D,CAAqE,CAArE,CAAzB;AACAwS,IAAAA,uBAAuB,CAACrF,WAAxB,GAAsC9C,UAAtC;AACA,WAAO,KAAKmH,WAAL,CAAiBrK,QAAjB,EAA2BkD,UAA3B,EAAuCmI,uBAAvC,EAAgEQ,gBAAhE,EAAkF5F,mBAAlF,CAAP;AACD;;AAEDkH,EAAAA,wBAAwB,CAACH,OAAD,EAAkBvM,KAAlB;AACtB,WAAO,KAAKiH,KAAL,CAAWyF,wBAAX,CAAoCH,OAApC,EAA6CvM,KAA7C,CAAP;AACD;;AAEsB,QAAjB2M,iBAAiB;QAAC;AAAEC,MAAAA,UAAU,GAAG,IAAf;AAAqBC,MAAAA,iBAAiB,GAAG;AAAzC,4EAAwE;AAC9F,UAAM,KAAKhF,IAAL,CAAU;AAAEE,MAAAA,QAAQ,EAAE;AAAZ,KAAV,CAAN;AACA,UAAMlQ,GAAG,GAAG,IAAIkG,GAAJ,CAAQpD,MAAM,CAACwE,QAAP,CAAgBrH,IAAxB,CAAZ;AACA,UAAMqB,IAAI,GAAGtB,GAAG,CAACsB,IAAJ,CAAS2T,SAAT,CAAmB,CAAnB,CAAb;AACA,UAAMC,WAAW,GAAG,EAApB;AACAlV,IAAAA,GAAG,CAACmG,YAAJ,CAAiBnC,OAAjB,CAAyB,CAACmR,KAAD,EAAQlR,GAAR;AACvBiR,MAAAA,WAAW,CAACjR,GAAD,CAAX,GAAmBkR,KAAnB;AACD,KAFD;;AAIA,QAAIJ,UAAJ,EAAgB;AACd,YAAMK,QAAQ,GAAGtS,MAAM,CAACwE,QAAP,CAAgB+N,MAAhB,GAAyBvS,MAAM,CAACwE,QAAP,CAAgB8D,QAA1D;AACAtI,MAAAA,MAAM,CAACwS,OAAP,CAAeC,YAAf,CAA4B,IAA5B,EAAkC,EAAlC,EAAsCH,QAAtC;AACD;;AAED,QAAI,CAAC9T,IAAD,IAASY,MAAM,CAACC,IAAP,CAAY+S,WAAZ,EAAyB9S,MAAzB,KAAoC,CAAjD,EAAoD;AAClD,YAAM,IAAIxC,KAAJ,CAAU,yCAAV,CAAN;AACD;;AAED,UAAM;AAAEH,MAAAA,KAAF;AAASwC,MAAAA,kBAAT;AAA6BT,MAAAA;AAA7B,QAAgDH,wBAAwB,CAACC,IAAD,EAAO4T,WAAP,CAA9E;AAEA,UAAM;AAAEhN,MAAAA;AAAF,QAAiBjG,kBAAvB;AAEAF,IAAAA,GAAG,CAACC,IAAJ,CAASkG,UAAT,EAAqB,YAArB;;AAEA,kCAAkCxE,oBAAoB,CAAC,KAAKyL,MAAL,CAAYJ,2BAAb,EAA0C7G,UAA1C,CAAtD;AAAA,UAAM;AAAEwI,MAAAA,IAAF;AAAQG,MAAAA;AAAR,KAAN;AAAA,UAAyB7H,IAAzB;;AACAjH,IAAAA,GAAG,CAACC,IAAJ,CAAS0O,IAAT,EAAeG,MAAf;;AAEA,QAAImE,iBAAJ,EAAuB;AACrBnR,MAAAA,wBAAwB,CAAC,KAAKsL,MAAL,CAAYJ,2BAAb,EAA0C7G,UAA1C,CAAxB;AACD;;AAED,QAAIzI,KAAJ,EAAW;AACT,aAAO;AAAEA,QAAAA,KAAF;AAAS4C,QAAAA,KAAK,EAAEJ,kBAAkB,IAAI,EAAtC;AAA0C4O,QAAAA,MAA1C;AAAkDlP,QAAAA,MAAM,EAAE,EAA1D;AAA8DH,QAAAA,cAA9D;AAA8EkP,QAAAA;AAA9E,OAAP;AACD;;AAED,QAAI/O,MAAJ;;AAEA,QAAI;AACF,UAAIkP,MAAM,KAAKvS,YAAY,CAACC,aAA5B,EAA2C;AACzC,cAAMiX,UAAU,GAAG9E,IAAnB;AACA8E,QAAAA,UAAU,CAAClU,IAAX,GAAkBA,IAAlB;AACAkU,QAAAA,UAAU,CAACjU,eAAX,GAA6B2T,WAA7B;AACAvT,QAAAA,MAAM,GAAG,MAAM,KAAK8O,YAAL,CAAkB+E,UAAlB,CAAf;AACD,OALD,MAKO,IAAI3E,MAAM,KAAKvS,YAAY,CAACE,uBAA5B,EAAqD;AAC1D,cAAMgX,UAAU,GAAG9E,IAAnB;AACA8E,QAAAA,UAAU,CAACrD,uBAAX,CAAmCnO,OAAnC,CAA4CjB,CAAD;AACzCA,UAAAA,CAAC,CAACzB,IAAF,GAASA,IAAT;AACAyB,UAAAA,CAAC,CAACxB,eAAF,GAAoB2T,WAApB;AACD,SAHD;AAIAvT,QAAAA,MAAM,GAAG,MAAM,KAAKqQ,qBAAL,CAA2BwD,UAA3B,CAAf;AACD,OAPM,MAOA,IAAI3E,MAAM,KAAKvS,YAAY,CAACG,8BAA5B,EAA4D;AACjE,cAAM+W,UAAU,GAAG9E,IAAnB;AACA8E,QAAAA,UAAU,CAAC3B,WAAX,CAAuBvS,IAAvB,GAA8BA,IAA9B;AACAkU,QAAAA,UAAU,CAAC3B,WAAX,CAAuBtS,eAAvB,GAAyC2T,WAAzC;AACAvT,QAAAA,MAAM,GAAG,MAAM,KAAKiS,2BAAL,CAAiC4B,UAAjC,CAAf;AACD;AACF,KAnBD,CAmBE,OAAOC,GAAP,EAAY;AACZ1T,MAAAA,GAAG,CAACtC,KAAJ,CAAUgW,GAAV;AACA;AACEhW,QAAAA,KAAK,qDAA8C,CAAAgW,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEC,OAAL,KAAgB,EAA9D,CADP;AAEErT,QAAAA,KAAK,EAAEJ,kBAAkB,IAAI,EAF/B;AAGE4O,QAAAA,MAHF;AAIElP,QAAAA,MAAM,EAAE,EAJV;AAKEH,QAAAA,cALF;AAMEkP,QAAAA;AANF,SAOK1H,IAPL;AASD;;AAED,QAAI,CAACrH,MAAL,EACE;AACElC,MAAAA,KAAK,EAAE,yBADT;AAEE4C,MAAAA,KAAK,EAAEJ,kBAAkB,IAAI,EAF/B;AAGE4O,MAAAA,MAHF;AAIElP,MAAAA,MAAM,EAAE,EAJV;AAKEH,MAAAA,cALF;AAMEkP,MAAAA;AANF,OAOK1H,IAPL;AAUF;AAAS6H,MAAAA,MAAT;AAAiBlP,MAAAA,MAAjB;AAAyBU,MAAAA,KAAK,EAAEJ,kBAAkB,IAAI,EAAtD;AAA0DT,MAAAA,cAA1D;AAA0EkP,MAAAA;AAA1E,OAAmF1H,IAAnF;AACD;;AAEsC,QAAzBwH,yBAAyB;AACrC,QAAI,CAACzL,QAAL,EAAe,OAAO3F,OAAO,CAACC,OAAR,EAAP;AACf,WAAO,IAAID,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV;AACjB,YAAMqW,YAAY,GAAG5Q,QAAQ,CAAC6Q,aAAT,CAAuB,MAAvB,CAArB;AACAD,MAAAA,YAAY,CAAC1V,IAAb,GAAoB,KAAKkP,MAAL,CAAYxH,YAAhC;AACA,UAAI7E,MAAM,CAACwE,QAAP,CAAgB+N,MAAhB,KAA2B,IAAInP,GAAJ,CAAQ,KAAKiJ,MAAL,CAAYxH,YAApB,EAAkC0N,MAAjE,EAAyEM,YAAY,CAACE,WAAb,GAA2B,WAA3B;AACzEF,MAAAA,YAAY,CAAC/S,IAAb,GAAoB,WAApB;AACA+S,MAAAA,YAAY,CAACG,GAAb,GAAmB,UAAnB;;AACA,YAAMC,SAAS,GAAG;AAChB,aAAK9G,aAAL,GAAqB,IAArB;AACA5P,QAAAA,OAAO;AACR,OAHD;;AAIA,UAAI;AACF,YAAIsW,YAAY,CAACK,OAAb,IAAwBL,YAAY,CAACK,OAAb,CAAqBC,QAAjD,EAA2D;AACzD,cAAIN,YAAY,CAACK,OAAb,CAAqBC,QAArB,CAA8B,UAA9B,CAAJ,EAA+C;AAC7CN,YAAAA,YAAY,CAACO,MAAb,GAAsBH,SAAtB;;AACAJ,YAAAA,YAAY,CAACQ,OAAb,GAAuB;AACrB7W,cAAAA,MAAM,CAAC,IAAIM,KAAJ,yFAA2F,KAAKuP,MAAL,CAAYxH,YAAvG,EAAD,CAAN;AACD,aAFD;;AAGA5C,YAAAA,QAAQ,CAACqR,IAAT,CAAcC,WAAd,CAA0BV,YAA1B;AACD,WAND,MAMO;AACL;AACAI,YAAAA,SAAS;AACV;AACF,SAXD,MAWO;AACL;AACAA,UAAAA,SAAS;AACV;AACF,OAhBD,CAgBE,OAAON,GAAP,EAAY;AACZM,QAAAA,SAAS;AACV;AACF,KA7BM,CAAP;AA8BD;;;;;;"}