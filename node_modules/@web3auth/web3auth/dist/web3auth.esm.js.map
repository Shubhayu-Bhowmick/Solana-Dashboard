{"version":3,"file":"web3auth.esm.js","sources":["../src/config.ts","../src/default.ts","../src/utils.ts","../src/modalManager.ts"],"sourcesContent":[null,null,null,null],"names":["defaultSolanaDappModalConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","adapters","SOLANA_ADAPTERS","TORUS_SOLANA","label","showOnModal","showOnMobile","showOnDesktop","OPENLOGIN","PHANTOM","defaultEvmDappModalConfig","EIP155","EVM_ADAPTERS","TORUS_EVM","METAMASK","WALLET_CONNECT_V1","defaultSolanaWalletModalConfig","defaultEvmWalletModalConfig","OPENLOGIN_PROVIDERS","LOGIN_PROVIDER","GOOGLE","FACEBOOK","TWITTER","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","WEIBO","WECHAT","EMAIL_PASSWORDLESS","getDefaultAdapterModule","params","name","customChainConfig","clientId","Object","values","includes","Error","finalChainConfig","getChainConfig","chainId","WALLET_ADAPTERS","TorusWalletAdapter","adapter","chainConfig","SolanaWalletAdapter","MetamaskAdapter","PhantomAdapter","WalletConnectV1Adapter","OpenloginAdapter","getOpenloginDefaultOptions","defaultOptions","adapterSettings","getAdapterSocialLogins","adapterName","loginMethodsConfig","finalLoginMethodsConfig","CUSTOM_AUTH","customAuthAdapter","keys","loginSettings","loginProviderConfig","forEach","loginMethod","currentLoginMethodConfig","log","debug","Web3Auth","Web3AuthCore","constructor","options","providedChainConfig","authMode","defaultModalConfig","loginModal","LoginModal","theme","uiConfig","appLogo","version","adapterListener","loginMethodsOrder","subscribeToLoginModalEvents","initModal","checkInitRequirements","init","allAdapters","Set","walletAdapters","adapterConfigurationPromises","map","adapterConfig","modalConfig","ad","type","ADAPTER_CATEGORY","IN_APP","EXTERNAL","cachedAdapter","setAdapterSettings","chainConfigProxy","coreOptions","setChainConfig","adapterNames","Promise","all","hasInAppWallets","some","initPromises","subscribeToAdapterEvents","autoConnect","initializeInAppWallet","error","status","ADAPTER_STATUS","READY","hasExternalWallets","initExternalWalletContainer","initExternalWalletAdapters","showExternalWalletsOnly","connect","initialized","provider","toggleModal","resolve","reject","once","ADAPTER_EVENTS","CONNECTED","ERRORED","err","externalWalletsInitialized","adaptersConfig","adaptersData","adapterPromises","adapterData","adapterInitResults","finalAdaptersConfig","result","addWalletLogins","info","addSocialLogins","loginMethods","on","LOGIN_MODAL_EVENTS","LOGIN","connectTo","loginParams","INIT_EXTERNAL_WALLETS","DISCONNECT","logout","MODAL_VISIBILITY","visibility","emit","walletConnectStatus"],"mappings":"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"}