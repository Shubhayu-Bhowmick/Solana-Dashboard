{"version":3,"file":"customauthAdapter.esm.js","sources":["../src/config.ts","../src/constants.ts","../src/memoryStore.ts","../src/utils.ts","../src/customAuthStore.ts","../src/customAuthAdapter.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["getCustomAuthDefaultOptions","chainNamespace","chainId","adapterSettings","baseUrl","redirectPathName","uxMode","enableLogging","network","initSettings","skipInit","skipSw","skipPrefetch","chainConfig","getChainConfig","undefined","storeKey","MemoryStore","getItem","key","store","setItem","value","parseCustomAuthResult","redirectResult","result","method","userInfo","publicAddress","privateKey","pubKey","TORUS_METHOD","TRIGGER_LOGIN","TRIGGER_AGGREGATE_LOGIN","aggregateUserInfo","TRIGGER_AGGREGATE_HYBRID_LOGIN","singleLogin","aggregateLogins","Error","padStart","sessionStorageAvailable","storageAvailable","CustomAuthStore","constructor","storage","resetStore","error","getInstance","instance","window","sessionStorage","toJSON","currStore","getStore","JSON","stringify","parse","get","set","DEFAULT_CUSTOM_AUTH_RES","email","name","profileImage","aggregateVerifier","verifier","verifierId","typeOfLogin","LOGIN","GOOGLE","CustomAuthAdapter","BaseAdapter","params","WALLET_ADAPTERS","CUSTOM_AUTH","ADAPTER_NAMESPACES","MULTICHAIN","ADAPTER_CATEGORY","IN_APP","CHAIN_NAMESPACES","EIP155","ADAPTER_STATUS","NOT_READY","loginSettings","WalletInitializationError","invalidParams","defaultOptions","currentChainNamespace","defaultChainIdConfig","rpcTarget","customAuthResult","provider","privKeyProvider","setChainConfig","customChainConfig","setAdapterSettings","status","READY","init","options","checkInitializationRequirements","customAuthInstance","CustomAuth","emit","ADAPTER_EVENTS","autoConnect","rehydrated","setupProvider","isRedirectResultAvailable","log","connect","checkConnectionRequirements","CONNECTING","adapter","ERRORED","WalletLoginError","connectionError","disconnect","cleanup","CONNECTED","notConnectedError","DISCONNECTED","getUserInfo","url","URL","location","href","hash","substring","queryParams","searchParams","forEach","Object","keys","length","notReady","getRedirectResult","replaceUrl","clearLoginDetails","_syncCustomAuthResult","SOLANA","SolanaPrivateKeyProvider","config","EthereumPrivateKeyProvider","finalPrivKey","loginProviderConfig","loginProvider","loginConfig","triggerLogin","args","triggerAggregateLogin","triggerHybridAggregateLogin","UX_MODE","POPUP","parsedResult","state","REDIRECT","debug","getED25519Key","sk","toString","reconnected"],"mappings":"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"}